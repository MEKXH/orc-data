var Os=Object.defineProperty;var zs=(t,e,n)=>e in t?Os(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bt=(t,e,n)=>zs(t,typeof e!="symbol"?e+"":e,n);function Y(){}const Ts=t=>t;function Ds(t,e){for(const n in e)t[n]=e[n];return t}function Ns(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Wr(t){return t()}function Bl(){return Object.create(null)}function rt(t){t.forEach(Wr)}function Nt(t){return typeof t=="function"}function Pe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Fs(t){return Object.keys(t).length===0}function jt(t,...e){if(t==null){for(const l of e)l(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Gt(t,e,n){t.$$.on_destroy.push(jt(e,n))}function _t(t,e,n,l){if(t){const i=Ur(t,e,n,l);return t[0](i)}}function Ur(t,e,n,l){return t[1]&&l?Ds(n.ctx.slice(),t[1](l(e))):n.ctx}function bt(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const r=[],s=Math.max(e.dirty.length,i.length);for(let u=0;u<s;u+=1)r[u]=e.dirty[u]|i[u];return r}return e.dirty|i}return e.dirty}function pt(t,e,n,l,i,r){if(i){const s=Ur(e,n,l,r);t.p(s,i)}}function wt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Vl(t){return t??""}function Fe(t,e,n){return t.set(n),e}function El(t){return t&&Nt(t.destroy)?t.destroy:Y}const Kr=typeof window<"u";let Rs=Kr?()=>window.performance.now():()=>Date.now(),Ol=Kr?t=>requestAnimationFrame(t):Y;const mn=new Set;function Qr(t){mn.forEach(e=>{e.c(t)||(mn.delete(e),e.f())}),mn.size!==0&&Ol(Qr)}function Ps(t){let e;return mn.size===0&&Ol(Qr),{promise:new Promise(n=>{mn.add(e={c:t,f:n})}),abort(){mn.delete(e)}}}function m(t,e){t.appendChild(e)}function Zr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ls(t){const e=w("style");return e.textContent="/* empty */",Hs(Zr(t),e),e.sheet}function Hs(t,e){return m(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function Re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function We(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function H(){return Z(" ")}function Be(){return Z("")}function ve(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function zl(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Bs(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Vs(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function qt(t,e){t.value=e??""}let Fn;function js(){if(Fn===void 0){Fn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Fn=!0}}return Fn}function Gs(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=w("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const i=js();let r;return i?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=ve(window,"message",s=>{s.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{r=ve(l.contentWindow,"resize",e),e()}),m(t,l),()=>{(i||r&&l.contentWindow)&&r(),R(l)}}function oe(t,e,n){t.classList.toggle(e,!!n)}function qs(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}class nl{constructor(e=!1){Bt(this,"is_svg",!1);Bt(this,"e");Bt(this,"n");Bt(this,"t");Bt(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=We(n.nodeName):this.e=w(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)L(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(R)}}function Wt(t,e){return new t(e)}const qn=new Map;let Wn=0;function Ws(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Us(t,e){const n={stylesheet:Ls(e),rules:{}};return qn.set(t,n),n}function Ks(t,e,n,l,i,r,s,u=0){const o=16.666/l;let f=`{
`;for(let k=0;k<=1;k+=o){const M=e+(n-e)*r(k);f+=k*100+`%{${s(M,1-M)}}
`}const a=f+`100% {${s(n,1-n)}}
}`,c=`__svelte_${Ws(a)}_${u}`,h=Zr(t),{stylesheet:d,rules:g}=qn.get(h)||Us(h,t);g[c]||(g[c]=!0,d.insertRule(`@keyframes ${c} ${a}`,d.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${c} ${l}ms linear ${i}ms 1 both`,Wn+=1,c}function Qs(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-l.length;i&&(t.style.animation=l.join(", "),Wn-=i,Wn||Zs())}function Zs(){Ol(()=>{Wn||(qn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&R(e)}),qn.clear())})}function Xs(t,e,n,l){if(!e)return Y;const i=t.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return Y;const{delay:r=0,duration:s=300,easing:u=Ts,start:o=Rs()+r,end:f=o+s,tick:a=Y,css:c}=n(t,{from:e,to:i},l);let h=!0,d=!1,g;function p(){c&&(g=Ks(t,0,1,s,r,u,c)),r||(d=!0)}function k(){c&&Qs(t,g),h=!1}return Ps(M=>{if(!d&&M>=o&&(d=!0),d&&M>=f&&(a(1,0),k()),!h)return!1;if(d){const v=M-o,P=0+1*u(v/s);a(P,1-P)}return!0}),p(),a(0,1),k}function Ys(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:n,height:l}=e,i=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=l,Js(t,i)}}function Js(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const l=getComputedStyle(t),i=l.transform==="none"?"":l.transform;t.style.transform=`${i} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}let Mn;function Dt(t){Mn=t}function ll(){if(!Mn)throw new Error("Function called outside component initialization");return Mn}function zn(t){ll().$$.on_mount.push(t)}function Xr(t){ll().$$.on_destroy.push(t)}function Tn(){const t=ll();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=qs(e,n,{cancelable:l});return i.slice().forEach(s=>{s.call(t,r)}),!r.defaultPrevented}return!0}}function Te(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const hn=[],Xe=[];let gn=[];const ml=[],Yr=Promise.resolve();let gl=!1;function Jr(){gl||(gl=!0,Yr.then(il))}function It(){return Jr(),Yr}function An(t){gn.push(t)}function Un(t){ml.push(t)}const fl=new Set;let fn=0;function il(){if(fn!==0)return;const t=Mn;do{try{for(;fn<hn.length;){const e=hn[fn];fn++,Dt(e),xs(e.$$)}}catch(e){throw hn.length=0,fn=0,e}for(Dt(null),hn.length=0,fn=0;Xe.length;)Xe.pop()();for(let e=0;e<gn.length;e+=1){const n=gn[e];fl.has(n)||(fl.add(n),n())}gn.length=0}while(hn.length);for(;ml.length;)ml.pop()();gl=!1,fl.clear(),Dt(t)}function xs(t){if(t.fragment!==null){t.update(),rt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(An)}}function $s(t){const e=[],n=[];gn.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),gn=e}const jn=new Set;let Yt;function ke(){Yt={r:0,c:[],p:Yt}}function Se(){Yt.r||rt(Yt.c),Yt=Yt.p}function O(t,e){t&&t.i&&(jn.delete(t),t.i(e))}function N(t,e,n,l){if(t&&t.o){if(jn.has(t))return;jn.add(t),Yt.c.push(()=>{jn.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function eo(t,e){const n=e.token={};function l(i,r,s,u){if(e.token!==n)return;e.resolved=u;let o=e.ctx;s!==void 0&&(o=o.slice(),o[s]=u);const f=i&&(e.current=i)(o);let a=!1;e.block&&(e.blocks?e.blocks.forEach((c,h)=>{h!==r&&c&&(ke(),N(c,1,1,()=>{e.blocks[h]===c&&(e.blocks[h]=null)}),Se())}):e.block.d(1),f.c(),O(f,1),f.m(e.mount(),e.anchor),a=!0),e.block=f,e.blocks&&(e.blocks[r]=f),a&&il()}if(Ns(t)){const i=ll();if(t.then(r=>{Dt(i),l(e.then,1,e.value,r),Dt(null)},r=>{if(Dt(i),l(e.catch,2,e.error,r),Dt(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function to(t,e,n){const l=e.slice(),{resolved:i}=t;t.current===t.then&&(l[t.value]=i),t.current===t.catch&&(l[t.error]=i),t.block.p(l,n)}function ee(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Tl(t,e){N(t,1,1,()=>{e.delete(t.key)})}function no(t,e){t.f(),Tl(t,e)}function Dl(t,e,n,l,i,r,s,u,o,f,a,c){let h=t.length,d=r.length,g=h;const p={};for(;g--;)p[t[g].key]=g;const k=[],M=new Map,v=new Map,P=[];for(g=d;g--;){const D=c(i,r,g),B=n(D);let V=s.get(B);V?P.push(()=>V.p(D,e)):(V=f(B,D),V.c()),M.set(B,k[g]=V),B in p&&v.set(B,Math.abs(g-p[B]))}const S=new Set,I=new Set;function G(D){O(D,1),D.m(u,a),s.set(D.key,D),a=D.first,d--}for(;h&&d;){const D=k[d-1],B=t[h-1],V=D.key,E=B.key;D===B?(a=D.first,h--,d--):M.has(E)?!s.has(V)||S.has(V)?G(D):I.has(E)?h--:v.get(V)>v.get(E)?(I.add(V),G(D)):(S.add(E),h--):(o(B,s),h--)}for(;h--;){const D=t[h];M.has(D.key)||o(D,s)}for(;d;)G(k[d-1]);return rt(P),k}function Kn(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function de(t){t&&t.c()}function ae(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),An(()=>{const r=t.$$.on_mount.map(Wr).filter(Nt);t.$$.on_destroy?t.$$.on_destroy.push(...r):rt(r),t.$$.on_mount=[]}),i.forEach(An)}function ce(t,e){const n=t.$$;n.fragment!==null&&($s(n.after_update),rt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lo(t,e){t.$$.dirty[0]===-1&&(hn.push(t),Jr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ve(t,e,n,l,i,r,s=null,u=[-1]){const o=Mn;Dt(t);const f=t.$$={fragment:null,ctx:[],props:r,update:Y,not_equal:i,bound:Bl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Bl(),dirty:u,skip_bound:!1,root:e.target||o.$$.root};s&&s(f.root);let a=!1;if(f.ctx=n?n(t,e.props||{},(c,h,...d)=>{const g=d.length?d[0]:h;return f.ctx&&i(f.ctx[c],f.ctx[c]=g)&&(!f.skip_bound&&f.bound[c]&&f.bound[c](g),a&&lo(t,c)),h}):[],f.update(),a=!0,rt(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const c=Vs(e.target);f.fragment&&f.fragment.l(c),c.forEach(R)}else f.fragment&&f.fragment.c();e.intro&&O(t.$$.fragment),ae(t,e.target,e.anchor),il()}Dt(o)}class je{constructor(){Bt(this,"$$");Bt(this,"$$set")}$destroy(){ce(this,1),this.$destroy=Y}$on(e,n){if(!Nt(n))return Y;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Fs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const io="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(io);const an=[];function ro(t,e){return{subscribe:In(t,e).subscribe}}function In(t,e=Y){let n;const l=new Set;function i(u){if(Pe(t,u)&&(t=u,n)){const o=!an.length;for(const f of l)f[1](),an.push(f,t);if(o){for(let f=0;f<an.length;f+=2)an[f][0](an[f+1]);an.length=0}}}function r(u){i(u(t))}function s(u,o=Y){const f=[u,o];return l.add(f),l.size===1&&(n=e(i,r)||Y),u(t),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:s}}function xr(t,e,n){const l=!Array.isArray(t),i=l?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return ro(n,(s,u)=>{let o=!1;const f=[];let a=0,c=Y;const h=()=>{if(a)return;c();const g=e(l?f[0]:f,s,u);r?s(g):c=Nt(g)?g:Y},d=i.map((g,p)=>jt(g,k=>{f[p]=k,a&=~(1<<p),o&&h()},()=>{a|=1<<p}));return o=!0,h(),function(){rt(d),c(),o=!1}})}const Jt=Math.PI/180;function _l(t,e){return e/Math.cos(t*Jt)}function jl(t,e){return e==null?Math.round(t):Math.round(t*(e=Math.pow(10,e)))/e}function so(t){return t[Math.floor(Math.random()*t.length)]}function al(t){return Array.apply(null,new Array(t)).map(()=>0)}function oo(t){return parseInt(t,10)}function Gl(t){return+t}const bn=In([]),uo=xr(bn,t=>bn.length);fetch("index.json").then(t=>t.json()).then(t=>{bn.set(t.map(([e,n,l])=>({sailnumber:e,name:n,type:l})))});const $r=xr(bn,t=>t.length===0?null:so(t).sailnumber);let Rn={};function Qn(t){return t in Rn?new Promise(e=>e(Rn[t])):fetch(`data/${t}.json`).then(e=>(Rn[t]=e.json(),Rn[t]))}function fo(){return fetch("extremes.json").then(t=>t.json())}function Gn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ao(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function es(t){let e,n,l;t.length!==2?(e=Gn,n=(u,o)=>Gn(t(u),o),l=(u,o)=>t(u)-o):(e=t===Gn||t===ao?t:co,n=t,l=t);function i(u,o,f=0,a=u.length){if(f<a){if(e(o,o)!==0)return a;do{const c=f+a>>>1;n(u[c],o)<0?f=c+1:a=c}while(f<a)}return f}function r(u,o,f=0,a=u.length){if(f<a){if(e(o,o)!==0)return a;do{const c=f+a>>>1;n(u[c],o)<=0?f=c+1:a=c}while(f<a)}return f}function s(u,o,f=0,a=u.length){const c=i(u,o,f,a-1);return c>f&&l(u[c-1],o)>-l(u[c],o)?c-1:c}return{left:i,center:s,right:r}}function co(){return 0}function ho(t){return t===null?NaN:+t}const mo=es(Gn),go=mo.right;es(ho).center;const _o=Math.sqrt(50),bo=Math.sqrt(10),po=Math.sqrt(2);function Zn(t,e,n){const l=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(l)),r=l/Math.pow(10,i),s=r>=_o?10:r>=bo?5:r>=po?2:1;let u,o,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),o=Math.round(e*f),u/f<t&&++u,o/f>e&&--o,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),o=Math.round(e/f),u*f<t&&++u,o*f>e&&--o),o<u&&.5<=n&&n<2?Zn(t,e,n*2):[u,o,f]}function wo(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const l=e<t,[i,r,s]=l?Zn(e,t,n):Zn(t,e,n);if(!(r>=i))return[];const u=r-i+1,o=new Array(u);if(l)if(s<0)for(let f=0;f<u;++f)o[f]=(r-f)/-s;else for(let f=0;f<u;++f)o[f]=(r-f)*s;else if(s<0)for(let f=0;f<u;++f)o[f]=(i+f)/-s;else for(let f=0;f<u;++f)o[f]=(i+f)*s;return o}function bl(t,e,n){return e=+e,t=+t,n=+n,Zn(t,e,n)[2]}function vo(t,e,n){e=+e,t=+t,n=+n;const l=e<t,i=l?bl(e,t,n):bl(t,e,n);return(l?-1:1)*(i<0?1/-i:i)}function yo(t,e){let n;if(e===void 0)for(const l of t)l!=null&&(n>l||n===void 0&&l>=l)&&(n=l);else{let l=-1;for(let i of t)(i=e(i,++l,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function ko(t){if(!(r=t.length))return[];for(var e=-1,n=yo(t,So),l=new Array(n);++e<n;)for(var i=-1,r,s=l[e]=new Array(r);++i<r;)s[i]=t[i][e];return l}function So(t){return t.length}function Io(){return ko(arguments)}function Mo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Nl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ts(t,e){var n=Object.create(t.prototype);for(var l in e)n[l]=e[l];return n}function Dn(){}var Cn=.7,Xn=1/Cn,_n="\\s*([+-]?\\d+)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ao=/^#([0-9a-f]{3,8})$/,Co=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),Eo=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Oo=new RegExp(`^rgba\\(${_n},${_n},${_n},${En}\\)$`),zo=new RegExp(`^rgba\\(${At},${At},${At},${En}\\)$`),To=new RegExp(`^hsl\\(${En},${At},${At}\\)$`),Do=new RegExp(`^hsla\\(${En},${At},${At},${En}\\)$`),ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nl(Dn,On,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wl,formatHex:Wl,formatHex8:No,formatHsl:Fo,formatRgb:Ul,toString:Ul});function Wl(){return this.rgb().formatHex()}function No(){return this.rgb().formatHex8()}function Fo(){return ns(this).formatHsl()}function Ul(){return this.rgb().formatRgb()}function On(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ao.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kl(e):n===3?new lt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Pn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Pn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Co.exec(t))?new lt(e[1],e[2],e[3],1):(e=Eo.exec(t))?new lt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oo.exec(t))?Pn(e[1],e[2],e[3],e[4]):(e=zo.exec(t))?Pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=To.exec(t))?Xl(e[1],e[2]/100,e[3]/100,1):(e=Do.exec(t))?Xl(e[1],e[2]/100,e[3]/100,e[4]):ql.hasOwnProperty(t)?Kl(ql[t]):t==="transparent"?new lt(NaN,NaN,NaN,0):null}function Kl(t){return new lt(t>>16&255,t>>8&255,t&255,1)}function Pn(t,e,n,l){return l<=0&&(t=e=n=NaN),new lt(t,e,n,l)}function Ro(t){return t instanceof Dn||(t=On(t)),t?(t=t.rgb(),new lt(t.r,t.g,t.b,t.opacity)):new lt}function pl(t,e,n,l){return arguments.length===1?Ro(t):new lt(t,e,n,l??1)}function lt(t,e,n,l){this.r=+t,this.g=+e,this.b=+n,this.opacity=+l}Nl(lt,pl,ts(Dn,{brighter(t){return t=t==null?Xn:Math.pow(Xn,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new lt(en(this.r),en(this.g),en(this.b),Yn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ql,formatHex:Ql,formatHex8:Po,formatRgb:Zl,toString:Zl}));function Ql(){return`#${xt(this.r)}${xt(this.g)}${xt(this.b)}`}function Po(){return`#${xt(this.r)}${xt(this.g)}${xt(this.b)}${xt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zl(){const t=Yn(this.opacity);return`${t===1?"rgb(":"rgba("}${en(this.r)}, ${en(this.g)}, ${en(this.b)}${t===1?")":`, ${t})`}`}function Yn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function en(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xt(t){return t=en(t),(t<16?"0":"")+t.toString(16)}function Xl(t,e,n,l){return l<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gt(t,e,n,l)}function ns(t){if(t instanceof gt)return new gt(t.h,t.s,t.l,t.opacity);if(t instanceof Dn||(t=On(t)),!t)return new gt;if(t instanceof gt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,l=t.b/255,i=Math.min(e,n,l),r=Math.max(e,n,l),s=NaN,u=r-i,o=(r+i)/2;return u?(e===r?s=(n-l)/u+(n<l)*6:n===r?s=(l-e)/u+2:s=(e-n)/u+4,u/=o<.5?r+i:2-r-i,s*=60):u=o>0&&o<1?0:s,new gt(s,u,o,t.opacity)}function Lo(t,e,n,l){return arguments.length===1?ns(t):new gt(t,e,n,l??1)}function gt(t,e,n,l){this.h=+t,this.s=+e,this.l=+n,this.opacity=+l}Nl(gt,Lo,ts(Dn,{brighter(t){return t=t==null?Xn:Math.pow(Xn,t),new gt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new gt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,l=n+(n<.5?n:1-n)*e,i=2*n-l;return new lt(cl(t>=240?t-240:t+120,i,l),cl(t,i,l),cl(t<120?t+240:t-120,i,l),this.opacity)},clamp(){return new gt(Yl(this.h),Ln(this.s),Ln(this.l),Yn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yn(this.opacity);return`${t===1?"hsl(":"hsla("}${Yl(this.h)}, ${Ln(this.s)*100}%, ${Ln(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Yl(t){return t=(t||0)%360,t<0?t+360:t}function Ln(t){return Math.max(0,Math.min(1,t||0))}function cl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Fl=t=>()=>t;function Ho(t,e){return function(n){return t+n*e}}function Bo(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(l){return Math.pow(t+l*e,n)}}function Vo(t){return(t=+t)==1?ls:function(e,n){return n-e?Bo(e,n,t):Fl(isNaN(e)?n:e)}}function ls(t,e){var n=e-t;return n?Ho(t,n):Fl(isNaN(t)?e:t)}const Jl=function t(e){var n=Vo(e);function l(i,r){var s=n((i=pl(i)).r,(r=pl(r)).r),u=n(i.g,r.g),o=n(i.b,r.b),f=ls(i.opacity,r.opacity);return function(a){return i.r=s(a),i.g=u(a),i.b=o(a),i.opacity=f(a),i+""}}return l.gamma=t,l}(1);function jo(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,l=e.slice(),i;return function(r){for(i=0;i<n;++i)l[i]=t[i]*(1-r)+e[i]*r;return l}}function Go(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qo(t,e){var n=e?e.length:0,l=t?Math.min(n,t.length):0,i=new Array(l),r=new Array(n),s;for(s=0;s<l;++s)i[s]=Rl(t[s],e[s]);for(;s<n;++s)r[s]=e[s];return function(u){for(s=0;s<l;++s)r[s]=i[s](u);return r}}function Wo(t,e){var n=new Date;return t=+t,e=+e,function(l){return n.setTime(t*(1-l)+e*l),n}}function Jn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Uo(t,e){var n={},l={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Rl(t[i],e[i]):l[i]=e[i];return function(r){for(i in n)l[i]=n[i](r);return l}}var wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(wl.source,"g");function Ko(t){return function(){return t}}function Qo(t){return function(e){return t(e)+""}}function Zo(t,e){var n=wl.lastIndex=hl.lastIndex=0,l,i,r,s=-1,u=[],o=[];for(t=t+"",e=e+"";(l=wl.exec(t))&&(i=hl.exec(e));)(r=i.index)>n&&(r=e.slice(n,r),u[s]?u[s]+=r:u[++s]=r),(l=l[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,o.push({i:s,x:Jn(l,i)})),n=hl.lastIndex;return n<e.length&&(r=e.slice(n),u[s]?u[s]+=r:u[++s]=r),u.length<2?o[0]?Qo(o[0].x):Ko(e):(e=o.length,function(f){for(var a=0,c;a<e;++a)u[(c=o[a]).i]=c.x(f);return u.join("")})}function Rl(t,e){var n=typeof e,l;return e==null||n==="boolean"?Fl(e):(n==="number"?Jn:n==="string"?(l=On(e))?(e=l,Jl):Zo:e instanceof On?Jl:e instanceof Date?Wo:Go(e)?jo:Array.isArray(e)?qo:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Uo:Jn)(t,e)}function Xo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Yo(t){return function(){return t}}function Jo(t){return+t}var xl=[0,1];function dn(t){return t}function vl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Yo(isNaN(e)?NaN:.5)}function xo(t,e){var n;return t>e&&(n=t,t=e,e=n),function(l){return Math.max(t,Math.min(e,l))}}function $o(t,e,n){var l=t[0],i=t[1],r=e[0],s=e[1];return i<l?(l=vl(i,l),r=n(s,r)):(l=vl(l,i),r=n(r,s)),function(u){return r(l(u))}}function eu(t,e,n){var l=Math.min(t.length,e.length)-1,i=new Array(l),r=new Array(l),s=-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<l;)i[s]=vl(t[s],t[s+1]),r[s]=n(e[s],e[s+1]);return function(u){var o=go(t,u,1,l)-1;return r[o](i[o](u))}}function tu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nu(){var t=xl,e=xl,n=Rl,l,i,r,s=dn,u,o,f;function a(){var h=Math.min(t.length,e.length);return s!==dn&&(s=xo(t[0],t[h-1])),u=h>2?eu:$o,o=f=null,c}function c(h){return h==null||isNaN(h=+h)?r:(o||(o=u(t.map(l),e,n)))(l(s(h)))}return c.invert=function(h){return s(i((f||(f=u(e,t.map(l),Jn)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,Jo),a()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),a()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=Xo,a()},c.clamp=function(h){return arguments.length?(s=h?!0:dn,a()):s!==dn},c.interpolate=function(h){return arguments.length?(n=h,a()):n},c.unknown=function(h){return arguments.length?(r=h,c):r},function(h,d){return l=h,i=d,a()}}function lu(){return nu()(dn,dn)}function iu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,l=t.slice(0,n);return[l.length>1?l[0]+l.slice(2):l,+t.slice(n+1)]}function pn(t){return t=xn(Math.abs(t)),t?t[1]:NaN}function ru(t,e){return function(n,l){for(var i=n.length,r=[],s=0,u=t[0],o=0;i>0&&u>0&&(o+u+1>l&&(u=Math.max(1,l-o)),r.push(n.substring(i-=u,i+u)),!((o+=u+1)>l));)u=t[s=(s+1)%t.length];return r.reverse().join(e)}}function su(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ou=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $n(t){if(!(e=ou.exec(t)))throw new Error("invalid format: "+t);var e;return new Pl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$n.prototype=Pl.prototype;function Pl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Pl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uu(t){e:for(var e=t.length,n=1,l=-1,i;n<e;++n)switch(t[n]){case".":l=i=n;break;case"0":l===0&&(l=n),i=n;break;default:if(!+t[n])break e;l>0&&(l=0);break}return l>0?t.slice(0,l)+t.slice(i+1):t}var is;function fu(t,e){var n=xn(t,e);if(!n)return t+"";var l=n[0],i=n[1],r=i-(is=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=l.length;return r===s?l:r>s?l+new Array(r-s+1).join("0"):r>0?l.slice(0,r)+"."+l.slice(r):"0."+new Array(1-r).join("0")+xn(t,Math.max(0,e+r-1))[0]}function $l(t,e){var n=xn(t,e);if(!n)return t+"";var l=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+l:l.length>i+1?l.slice(0,i+1)+"."+l.slice(i+1):l+new Array(i-l.length+2).join("0")}const ei={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iu,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$l(t*100,e),r:$l,s:fu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ti(t){return t}var ni=Array.prototype.map,li=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function au(t){var e=t.grouping===void 0||t.thousands===void 0?ti:ru(ni.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",l=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",r=t.numerals===void 0?ti:su(ni.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",o=t.nan===void 0?"NaN":t.nan+"";function f(c){c=$n(c);var h=c.fill,d=c.align,g=c.sign,p=c.symbol,k=c.zero,M=c.width,v=c.comma,P=c.precision,S=c.trim,I=c.type;I==="n"?(v=!0,I="g"):ei[I]||(P===void 0&&(P=12),S=!0,I="g"),(k||h==="0"&&d==="=")&&(k=!0,h="0",d="=");var G=p==="$"?n:p==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",D=p==="$"?l:/[%p]/.test(I)?s:"",B=ei[I],V=/[defgprs%]/.test(I);P=P===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function E(A){var J=G,K=D,le,Q,X;if(I==="c")K=B(A)+K,A="";else{A=+A;var j=A<0||1/A<0;if(A=isNaN(A)?o:B(Math.abs(A),P),S&&(A=uu(A)),j&&+A==0&&g!=="+"&&(j=!1),J=(j?g==="("?g:u:g==="-"||g==="("?"":g)+J,K=(I==="s"?li[8+is/3]:"")+K+(j&&g==="("?")":""),V){for(le=-1,Q=A.length;++le<Q;)if(X=A.charCodeAt(le),48>X||X>57){K=(X===46?i+A.slice(le+1):A.slice(le))+K,A=A.slice(0,le);break}}}v&&!k&&(A=e(A,1/0));var ne=J.length+A.length+K.length,$=ne<M?new Array(M-ne+1).join(h):"";switch(v&&k&&(A=e($+A,$.length?M-K.length:1/0),$=""),d){case"<":A=J+A+K+$;break;case"=":A=J+$+A+K;break;case"^":A=$.slice(0,ne=$.length>>1)+J+A+K+$.slice(ne);break;default:A=$+J+A+K;break}return r(A)}return E.toString=function(){return c+""},E}function a(c,h){var d=f((c=$n(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(pn(h)/3)))*3,p=Math.pow(10,-g),k=li[8+g/3];return function(M){return d(p*M)+k}}return{format:f,formatPrefix:a}}var Hn,rs,ss;cu({thousands:",",grouping:[3],currency:["$",""]});function cu(t){return Hn=au(t),rs=Hn.format,ss=Hn.formatPrefix,Hn}function hu(t){return Math.max(0,-pn(Math.abs(t)))}function du(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pn(e)/3)))*3-pn(Math.abs(t)))}function mu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pn(e)-pn(t))+1}function gu(t,e,n,l){var i=vo(t,e,n),r;switch(l=$n(l??",f"),l.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return l.precision==null&&!isNaN(r=du(i,s))&&(l.precision=r),ss(l,s)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(r=mu(i,Math.max(Math.abs(t),Math.abs(e))))&&(l.precision=r-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(r=hu(i))&&(l.precision=r-(l.type==="%")*2);break}}return rs(l)}function _u(t){var e=t.domain;return t.ticks=function(n){var l=e();return wo(l[0],l[l.length-1],n??10)},t.tickFormat=function(n,l){var i=e();return gu(i[0],i[i.length-1],n??10,l)},t.nice=function(n){n==null&&(n=10);var l=e(),i=0,r=l.length-1,s=l[i],u=l[r],o,f,a=10;for(u<s&&(f=s,s=u,u=f,f=i,i=r,r=f);a-- >0;){if(f=bl(s,u,n),f===o)return l[i]=s,l[r]=u,e(l);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;o=f}return t},t}function os(){var t=lu();return t.copy=function(){return tu(t,os())},Mo.apply(t,arguments),_u(t)}function Mt(t){return function(){return t}}const Ll=Math.sqrt,us=Math.PI,bu=2*us,yl=Math.PI,kl=2*yl,Xt=1e-6,pu=kl-Xt;function fs(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wu(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fs;const n=10**e;return function(l){this._+=l[0];for(let i=1,r=l.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+l[i]}}class vu{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fs:wu(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,l,i){this._append`Q${+e},${+n},${this._x1=+l},${this._y1=+i}`}bezierCurveTo(e,n,l,i,r,s){this._append`C${+e},${+n},${+l},${+i},${this._x1=+r},${this._y1=+s}`}arcTo(e,n,l,i,r){if(e=+e,n=+n,l=+l,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let s=this._x1,u=this._y1,o=l-e,f=i-n,a=s-e,c=u-n,h=a*a+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Xt)if(!(Math.abs(c*o-f*a)>Xt)||!r)this._append`L${this._x1=e},${this._y1=n}`;else{let d=l-s,g=i-u,p=o*o+f*f,k=d*d+g*g,M=Math.sqrt(p),v=Math.sqrt(h),P=r*Math.tan((yl-Math.acos((p+h-k)/(2*M*v)))/2),S=P/v,I=P/M;Math.abs(S-1)>Xt&&this._append`L${e+S*a},${n+S*c}`,this._append`A${r},${r},0,0,${+(c*d>a*g)},${this._x1=e+I*o},${this._y1=n+I*f}`}}arc(e,n,l,i,r,s){if(e=+e,n=+n,l=+l,s=!!s,l<0)throw new Error(`negative radius: ${l}`);let u=l*Math.cos(i),o=l*Math.sin(i),f=e+u,a=n+o,c=1^s,h=s?i-r:r-i;this._x1===null?this._append`M${f},${a}`:(Math.abs(this._x1-f)>Xt||Math.abs(this._y1-a)>Xt)&&this._append`L${f},${a}`,l&&(h<0&&(h=h%kl+kl),h>pu?this._append`A${l},${l},0,1,${c},${e-u},${n-o}A${l},${l},0,1,${c},${this._x1=f},${this._y1=a}`:h>Xt&&this._append`A${l},${l},0,${+(h>=yl)},${c},${this._x1=e+l*Math.cos(r)},${this._y1=n+l*Math.sin(r)}`)}rect(e,n,l,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${l=+l}v${+i}h${-l}Z`}toString(){return this._}}function as(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const l=Math.floor(n);if(!(l>=0))throw new RangeError(`invalid digits: ${n}`);e=l}return t},()=>new vu(e)}function yu(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cs(t){this._context=t}cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hs(t){return new cs(t)}function ku(t){return t[0]}function Su(t){return t[1]}function Iu(t,e){var n=Mt(!0),l=null,i=hs,r=null,s=as(u);t=typeof t=="function"?t:t===void 0?ku:Mt(t),e=typeof e=="function"?e:e===void 0?Su:Mt(e);function u(o){var f,a=(o=yu(o)).length,c,h=!1,d;for(l==null&&(r=i(d=s())),f=0;f<=a;++f)!(f<a&&n(c=o[f],f,o))===h&&((h=!h)?r.lineStart():r.lineEnd()),h&&r.point(+t(c,f,o),+e(c,f,o));if(d)return r=null,d+""||null}return u.x=function(o){return arguments.length?(t=typeof o=="function"?o:Mt(+o),u):t},u.y=function(o){return arguments.length?(e=typeof o=="function"?o:Mt(+o),u):e},u.defined=function(o){return arguments.length?(n=typeof o=="function"?o:Mt(!!o),u):n},u.curve=function(o){return arguments.length?(i=o,l!=null&&(r=i(l)),u):i},u.context=function(o){return arguments.length?(o==null?l=r=null:r=i(l=o),u):l},u}var Mu=ms(hs);function ds(t){this._curve=t}ds.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function ms(t){function e(n){return new ds(t(n))}return e._curve=t,e}function Au(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(ms(n)):e()._curve},t}function Cu(){return Au(Iu().curve(Mu))}const gs={draw(t,e){const n=Ll(e/us);t.moveTo(n,0),t.arc(0,0,n,0,bu)}},_s=Ll(1/3),Eu=_s*2,Ou={draw(t,e){const n=Ll(e/Eu),l=n*_s;t.moveTo(0,-n),t.lineTo(l,0),t.lineTo(0,n),t.lineTo(-l,0),t.closePath()}};function bs(t,e){let n=null,l=as(i);t=typeof t=="function"?t:Mt(t||gs),e=typeof e=="function"?e:Mt(e===void 0?64:+e);function i(){let r;if(n||(n=r=l()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return i.type=function(r){return arguments.length?(t=typeof r=="function"?r:Mt(r),i):t},i.size=function(r){return arguments.length?(e=typeof r=="function"?r:Mt(+r),i):e},i.context=function(r){return arguments.length?(n=r??null,i):n},i}function ii(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ps(t,e){this._context=t,this._k=(1-e)/6}ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ii(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ii(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zu=function t(e){function n(l){return new ps(l,e)}return n.tension=function(l){return t(+l)},n}(0);function ri(t,e,n){const l=t.slice();return l[7]=e[n][0],l[8]=e[n][1],l[10]=n,l}function si(t,e,n){const l=t.slice();return l[11]=e[n],l[10]=n,l}function oi(t){let e,n,l;return{c(){e=We("path"),b(e,"class",n="line series-"+t[2]+" tws-"+t[0].speeds[t[10]]),b(e,"d",l=t[3](t[11])),b(e,"stroke-width","2")},m(i,r){L(i,e,r)},p(i,r){r&5&&n!==(n="line series-"+i[2]+" tws-"+i[0].speeds[i[10]])&&b(e,"class",n),r&24&&l!==(l=i[3](i[11]))&&b(e,"d",l)},d(i){i&&R(e)}}}function ui(t){let e,n,l;return{c(){e=We("path"),b(e,"class",n="vmg-run series-"+t[2]+" tws-"+t[0].speeds[t[10]]),b(e,"d",bs(Ou,32)()),b(e,"transform",l="translate("+t[1](t[8])*Math.sin(t[7])+", "+t[1](t[8])*-Math.cos(t[7])+")"),b(e,"stroke-width","1")},m(i,r){L(i,e,r)},p(i,r){r&5&&n!==(n="vmg-run series-"+i[2]+" tws-"+i[0].speeds[i[10]])&&b(e,"class",n),r&18&&l!==(l="translate("+i[1](i[8])*Math.sin(i[7])+", "+i[1](i[8])*-Math.cos(i[7])+")")&&b(e,"transform",l)},d(i){i&&R(e)}}}function Tu(t){let e,n,l=ee(t[4].vpp),i=[];for(let u=0;u<l.length;u+=1)i[u]=oi(si(t,l,u));let r=ee(t[4].run),s=[];for(let u=0;u<r.length;u+=1)s[u]=ui(ri(t,r,u));return{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=H();for(let u=0;u<s.length;u+=1)s[u].c();n=Be()},m(u,o){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(u,o);L(u,e,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(u,o);L(u,n,o)},p(u,[o]){if(o&29){l=ee(u[4].vpp);let f;for(f=0;f<l.length;f+=1){const a=si(u,l,f);i[f]?i[f].p(a,o):(i[f]=oi(a),i[f].c(),i[f].m(e.parentNode,e))}for(;f<i.length;f+=1)i[f].d(1);i.length=l.length}if(o&23){r=ee(u[4].run);let f;for(f=0;f<r.length;f+=1){const a=ri(u,r,f);s[f]?s[f].p(a,o):(s[f]=ui(a),s[f].c(),s[f].m(n.parentNode,n))}for(;f<s.length;f+=1)s[f].d(1);s.length=r.length}},i:Y,o:Y,d(u){u&&(R(e),R(n)),Re(i,u),Re(s,u)}}}function Du(t,e,n){let l,i,{vpp:r}=e,{rScale:s}=e,{index:u=0}=e;const o=(a,c)=>[a*Jt,_l(a,c)];function f(a){const c=a.angles.map(g=>g*Jt);let h=[];return{vpp:a.speeds.map(function(g,p){var k=Io(c,a.angles.map(M=>a[M][p])).filter(M=>M[1]>0);if(a.beat_angle&&k.unshift(o(a.beat_angle[p],a.beat_vmg[p])),a.run_angle){const M=o(a.run_angle[p],-a.run_vmg[p]);k.push(M),h.push(M)}return k.sort((M,v)=>M[0]-v[0])}),run:h}}return t.$$set=a=>{"vpp"in a&&n(0,r=a.vpp),"rScale"in a&&n(1,s=a.rScale),"index"in a&&n(2,u=a.index)},t.$$.update=()=>{t.$$.dirty&1&&n(4,l=f(r)),t.$$.dirty&2&&n(3,i=Cu().angle(a=>a[0]).radius(a=>s(a[1])).curve(zu.tension(.2)))},[r,s,u,i,l]}class Nu extends je{constructor(e){super(),Ve(this,e,Du,Tu,Pe,{vpp:0,rScale:1,index:2})}}function fi(t,e,n){const l=t.slice();return l[14]=e[n],l[16]=n,l}function ai(t,e,n){const l=t.slice();return l[17]=e[n],l}function ci(t,e,n){const l=t.slice();return l[20]=e[n],l}function Fu(t){let e,n=t[20]+"",l,i,r;return{c(){e=We("text"),l=Z(n),i=Z(` kts
                        `),b(e,"y",r=-t[6](t[20])-2),b(e,"transform","rotate(25)"),b(e,"text-anchor","middle")},m(s,u){L(s,e,u),m(e,l),m(e,i)},p(s,u){u&64&&r!==(r=-s[6](s[20])-2)&&b(e,"y",r)},d(s){s&&R(e)}}}function hi(t){let e,n,l,i=t[20]<=bi&&Fu(t);return{c(){e=We("g"),n=We("circle"),i&&i.c(),b(n,"r",l=t[6](t[20])),b(e,"class","r axis sog-"+t[20])},m(r,s){L(r,e,s),m(e,n),i&&i.m(e,null)},p(r,s){s&64&&l!==(l=r[6](r[20]))&&b(n,"r",l),r[20]<=bi&&i.p(r,s)},d(r){r&&R(e),i&&i.d()}}}function di(t){let e,n,l,i,r,s=t[17]+"",u,o,f;return{c(){e=We("g"),n=We("line"),r=We("text"),u=Z(s),o=Z(`°
                    `),b(n,"x1",l=t[6](0)),b(n,"x2",i=t[6](10)),b(r,"class","xlabel"),b(r,"x",f=t[6](10)+5),b(r,"y",0),b(r,"text-anchor","start"),b(r,"alignment-baseline","middle"),b(e,"class","a axis"),b(e,"transform","rotate("+(t[17]-90)+")")},m(a,c){L(a,e,c),m(e,n),m(e,r),m(r,u),m(r,o)},p(a,c){c&64&&l!==(l=a[6](0))&&b(n,"x1",l),c&64&&i!==(i=a[6](10))&&b(n,"x2",i),c&64&&f!==(f=a[6](10)+5)&&b(r,"x",f)},d(a){a&&R(e)}}}function mi(t){let e,n;return e=new Nu({props:{vpp:t[14].vpp,index:t[16],rScale:t[6]}}),{c(){de(e.$$.fragment)},m(l,i){ae(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.vpp=l[14].vpp),i&64&&(r.rScale=l[6]),e.$set(r)},i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function gi(t){let e,n,l=t[14]&&mi(t);return{c(){l&&l.c(),e=Be()},m(i,r){l&&l.m(i,r),L(i,e,r),n=!0},p(i,r){i[14]?l?(l.p(i,r),r&1&&O(l,1)):(l=mi(i),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(ke(),N(l,1,1,()=>{l=null}),Se())},i(i){n||(O(l),n=!0)},o(i){N(l),n=!1},d(i){i&&R(e),l&&l.d(i)}}}function _i(t){let e,n,l;return{c(){e=We("path"),b(e,"class",n="highlight tws-"+t[7].tws),b(e,"d",bs(gs,80)()),b(e,"transform",l="translate("+t[6](t[7].sog)*Math.sin(t[7].cog*Jt)+", "+t[6](t[7].sog)*-Math.cos(t[7].cog*Jt)+")"),b(e,"transition","400ms"),b(e,"stroke-width","1")},m(i,r){L(i,e,r)},p(i,r){r&128&&n!==(n="highlight tws-"+i[7].tws)&&b(e,"class",n),r&192&&l!==(l="translate("+i[6](i[7].sog)*Math.sin(i[7].cog*Jt)+", "+i[6](i[7].sog)*-Math.cos(i[7].cog*Jt)+")")&&b(e,"transform",l)},d(i){i&&R(e)}}}function Ru(t){let e,n,l,i,r,s,u,o,f;An(t[12]);let a=ee(t[8]),c=[];for(let v=0;v<a.length;v+=1)c[v]=hi(ci(t,a,v));let h=ee(t[9]),d=[];for(let v=0;v<h.length;v+=1)d[v]=di(ai(t,h,v));let g=ee(t[0]),p=[];for(let v=0;v<g.length;v+=1)p[v]=gi(fi(t,g,v));const k=v=>N(p[v],1,1,()=>{p[v]=null});let M=t[7]&&_i(t);return{c(){e=w("div"),n=We("svg"),l=We("g");for(let v=0;v<c.length;v+=1)c[v].c();i=Be();for(let v=0;v<d.length;v+=1)d[v].c();r=Be();for(let v=0;v<p.length;v+=1)p[v].c();s=Be(),M&&M.c(),b(l,"transform","translate(10, 300)"),b(n,"width",t[4]),b(n,"height",t[5])},m(v,P){L(v,e,P),m(e,n),m(n,l);for(let S=0;S<c.length;S+=1)c[S]&&c[S].m(l,null);m(l,i);for(let S=0;S<d.length;S+=1)d[S]&&d[S].m(l,null);m(l,r);for(let S=0;S<p.length;S+=1)p[S]&&p[S].m(l,null);m(l,s),M&&M.m(l,null),t[13](e),u=!0,o||(f=ve(window,"resize",t[12]),o=!0)},p(v,[P]){if(P&320){a=ee(v[8]);let S;for(S=0;S<a.length;S+=1){const I=ci(v,a,S);c[S]?c[S].p(I,P):(c[S]=hi(I),c[S].c(),c[S].m(l,i))}for(;S<c.length;S+=1)c[S].d(1);c.length=a.length}if(P&576){h=ee(v[9]);let S;for(S=0;S<h.length;S+=1){const I=ai(v,h,S);d[S]?d[S].p(I,P):(d[S]=di(I),d[S].c(),d[S].m(l,r))}for(;S<d.length;S+=1)d[S].d(1);d.length=h.length}if(P&65){g=ee(v[0]);let S;for(S=0;S<g.length;S+=1){const I=fi(v,g,S);p[S]?(p[S].p(I,P),O(p[S],1)):(p[S]=gi(I),p[S].c(),O(p[S],1),p[S].m(l,s))}for(ke(),S=g.length;S<p.length;S+=1)k(S);Se()}v[7]?M?M.p(v,P):(M=_i(v),M.c(),M.m(l,null)):M&&(M.d(1),M=null),(!u||P&16)&&b(n,"width",v[4]),(!u||P&32)&&b(n,"height",v[5])},i(v){if(!u){for(let P=0;P<g.length;P+=1)O(p[P]);u=!0}},o(v){p=p.filter(Boolean);for(let P=0;P<p.length;P+=1)N(p[P]);u=!1},d(v){v&&R(e),Re(c,v),Re(d,v),Re(p,v),M&&M.d(),t[13](null),o=!1,f()}}}const bi=10;function Pu(t,e,n){let l,i,{boats:r=[]}=e,s,u,o,f=300,a=700;const c=[2,4,6,8,10,12,14,16],h=[0,45,52,60,75,90,110,120,135,150,165];let d;const g=M=>{n(7,d=M)};function p(){n(1,s=window.innerHeight),n(2,u=window.innerWidth)}function k(M){Xe[M?"unshift":"push"](()=>{o=M,n(3,o)})}return t.$$set=M=>{"boats"in M&&n(0,r=M.boats)},t.$$.update=()=>{t.$$.dirty&12&&u&&o&&n(4,f=o.offsetWidth),t.$$.dirty&30&&s&&u&&o&&n(5,a=Math.min(f*1.8,s-60)),t.$$.dirty&48&&n(11,l=Math.min(a/1.8-20,f)-25),t.$$.dirty&2048&&n(6,i=os().domain([0,10]).range([0,l])),t.$$.dirty&2112&&i.range([0,l]),t.$$.dirty&8&&(o==null||o.offsetWidth)},[r,s,u,o,f,a,i,d,c,h,g,l,p,k]}class rl extends je{constructor(e){super(),Ve(this,e,Pu,Ru,Pe,{boats:0,hover:10})}get boats(){return this.$$.ctx[0]}set boats(e){this.$$set({boats:e}),il()}get hover(){return this.$$.ctx[10]}}function pi(t,e,n){const l=t.slice();return l[4]=e[n],l[6]=n,l}function wi(t,e,n){const l=t.slice();return l[7]=e[n],l[6]=n,l}function vi(t,e,n){const l=t.slice();return l[4]=e[n],l}function yi(t,e,n){const l=t.slice();return l[11]=e[n],l[6]=n,l}function ki(t,e,n){const l=t.slice();return l[11]=e[n],l[6]=n,l}function Si(t,e,n){const l=t.slice();return l[4]=e[n],l[6]=n,l}function Ii(t,e,n){const l=t.slice();return l[11]=e[n],l}function Mi(t){let e,n=t[11]+"",l,i,r;return{c(){e=w("th"),l=Z(n),i=Z("kts"),b(e,"class",r="tws-"+t[11])},m(s,u){L(s,e,u),m(e,l),m(e,i)},p(s,u){u&1&&n!==(n=s[11]+"")&&se(l,n),u&1&&r!==(r="tws-"+s[11])&&b(e,"class",r)},d(s){s&&R(e)}}}function Ai(t){let e,n=t[4]+"",l,i,r;return{c(){e=w("td"),l=Z(n),i=Z("°"),b(e,"class",r="tws-"+t[0].speeds[t[6]]+" svelte-1novb3m")},m(s,u){L(s,e,u),m(e,l),m(e,i)},p(s,u){u&1&&n!==(n=s[4]+"")&&se(l,n),u&1&&r!==(r="tws-"+s[0].speeds[s[6]]+" svelte-1novb3m")&&b(e,"class",r)},d(s){s&&R(e)}}}function Ci(t){let e,n=t[11].toFixed(2)+"",l,i;return{c(){e=w("td"),l=Z(n),b(e,"class",i="tws-"+t[0].speeds[t[6]]+" svelte-1novb3m")},m(r,s){L(r,e,s),m(e,l)},p(r,s){s&1&&n!==(n=r[11].toFixed(2)+"")&&se(l,n),s&1&&i!==(i="tws-"+r[0].speeds[r[6]]+" svelte-1novb3m")&&b(e,"class",i)},d(r){r&&R(e)}}}function Ei(t){let e,n=t[11].toFixed(2)+"",l,i,r,s;function u(){return t[3](t[6],t[11],t[4])}return{c(){e=w("td"),l=Z(n),b(e,"class",i="tws-"+t[0].speeds[t[6]]+" svelte-1novb3m")},m(o,f){L(o,e,f),m(e,l),r||(s=[ve(e,"mouseover",u),ve(e,"mouseout",t[2])],r=!0)},p(o,f){t=o,f&1&&n!==(n=t[11].toFixed(2)+"")&&se(l,n),f&1&&i!==(i="tws-"+t[0].speeds[t[6]]+" svelte-1novb3m")&&b(e,"class",i)},d(o){o&&R(e),r=!1,rt(s)}}}function Oi(t){let e,n,l=t[4]+"",i,r,s,u,o=ee(t[0][t[4]]),f=[];for(let a=0;a<o.length;a+=1)f[a]=Ei(yi(t,o,a));return{c(){e=w("tr"),n=w("td"),i=Z(l),r=Z("°"),s=H();for(let a=0;a<f.length;a+=1)f[a].c();b(n,"class","svelte-1novb3m"),b(e,"class",u="twa-"+t[4]+" svelte-1novb3m")},m(a,c){L(a,e,c),m(e,n),m(n,i),m(n,r),m(e,s);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(e,null)},p(a,c){if(c&1&&l!==(l=a[4]+"")&&se(i,l),c&7){o=ee(a[0][a[4]]);let h;for(h=0;h<o.length;h+=1){const d=yi(a,o,h);f[h]?f[h].p(d,c):(f[h]=Ei(d),f[h].c(),f[h].m(e,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=o.length}c&1&&u!==(u="twa-"+a[4]+" svelte-1novb3m")&&b(e,"class",u)},d(a){a&&R(e),Re(f,a)}}}function zi(t){let e,n=t[7].toFixed(2)+"",l,i;return{c(){e=w("td"),l=Z(n),b(e,"class",i="tws-"+t[0].speeds[t[6]]+" svelte-1novb3m")},m(r,s){L(r,e,s),m(e,l)},p(r,s){s&1&&n!==(n=r[7].toFixed(2)+"")&&se(l,n),s&1&&i!==(i="tws-"+r[0].speeds[r[6]]+" svelte-1novb3m")&&b(e,"class",i)},d(r){r&&R(e)}}}function Ti(t){let e,n=t[4]+"",l,i,r;return{c(){e=w("td"),l=Z(n),i=Z("°"),b(e,"class",r="tws-"+t[0].speeds[t[6]]+" svelte-1novb3m")},m(s,u){L(s,e,u),m(e,l),m(e,i)},p(s,u){u&1&&n!==(n=s[4]+"")&&se(l,n),u&1&&r!==(r="tws-"+s[0].speeds[s[6]]+" svelte-1novb3m")&&b(e,"class",r)},d(s){s&&R(e)}}}function Lu(t){let e,n,l,i,r,s,u,o,f,a,c,h,d,g,p,k,M,v,P,S,I,G,D,B=ee(t[0].speeds),V=[];for(let z=0;z<B.length;z+=1)V[z]=Mi(Ii(t,B,z));let E=ee(t[0].beat_angle),A=[];for(let z=0;z<E.length;z+=1)A[z]=Ai(Si(t,E,z));let J=ee(t[0].beat_vmg),K=[];for(let z=0;z<J.length;z+=1)K[z]=Ci(ki(t,J,z));let le=ee(t[0].angles),Q=[];for(let z=0;z<le.length;z+=1)Q[z]=Oi(vi(t,le,z));let X=ee(t[0].run_vmg),j=[];for(let z=0;z<X.length;z+=1)j[z]=zi(wi(t,X,z));let ne=ee(t[0].run_angle),$=[];for(let z=0;z<ne.length;z+=1)$[z]=Ti(pi(t,ne,z));return{c(){e=w("table"),n=w("thead"),l=w("tr"),i=w("th"),i.textContent="Wind velocity",r=H();for(let z=0;z<V.length;z+=1)V[z].c();s=H(),u=w("tbody"),o=w("tr"),f=w("td"),f.textContent="Beat angle",a=H();for(let z=0;z<A.length;z+=1)A[z].c();c=H(),h=w("tr"),d=w("td"),d.textContent="Beat VMG",g=H();for(let z=0;z<K.length;z+=1)K[z].c();p=H();for(let z=0;z<Q.length;z+=1)Q[z].c();k=H(),M=w("tr"),v=w("td"),v.textContent="Run VMG",P=H();for(let z=0;z<j.length;z+=1)j[z].c();S=H(),I=w("tr"),G=w("td"),G.textContent="Run angle",D=H();for(let z=0;z<$.length;z+=1)$[z].c();b(f,"class","svelte-1novb3m"),b(d,"class","svelte-1novb3m"),b(v,"class","svelte-1novb3m"),b(G,"class","svelte-1novb3m"),b(e,"class","table table-sm polar-table svelte-1novb3m")},m(z,ue){L(z,e,ue),m(e,n),m(n,l),m(l,i),m(l,r);for(let y=0;y<V.length;y+=1)V[y]&&V[y].m(l,null);m(e,s),m(e,u),m(u,o),m(o,f),m(o,a);for(let y=0;y<A.length;y+=1)A[y]&&A[y].m(o,null);m(u,c),m(u,h),m(h,d),m(h,g);for(let y=0;y<K.length;y+=1)K[y]&&K[y].m(h,null);m(u,p);for(let y=0;y<Q.length;y+=1)Q[y]&&Q[y].m(u,null);m(u,k),m(u,M),m(M,v),m(M,P);for(let y=0;y<j.length;y+=1)j[y]&&j[y].m(M,null);m(u,S),m(u,I),m(I,G),m(I,D);for(let y=0;y<$.length;y+=1)$[y]&&$[y].m(I,null)},p(z,[ue]){if(ue&1){B=ee(z[0].speeds);let y;for(y=0;y<B.length;y+=1){const fe=Ii(z,B,y);V[y]?V[y].p(fe,ue):(V[y]=Mi(fe),V[y].c(),V[y].m(l,null))}for(;y<V.length;y+=1)V[y].d(1);V.length=B.length}if(ue&1){E=ee(z[0].beat_angle);let y;for(y=0;y<E.length;y+=1){const fe=Si(z,E,y);A[y]?A[y].p(fe,ue):(A[y]=Ai(fe),A[y].c(),A[y].m(o,null))}for(;y<A.length;y+=1)A[y].d(1);A.length=E.length}if(ue&1){J=ee(z[0].beat_vmg);let y;for(y=0;y<J.length;y+=1){const fe=ki(z,J,y);K[y]?K[y].p(fe,ue):(K[y]=Ci(fe),K[y].c(),K[y].m(h,null))}for(;y<K.length;y+=1)K[y].d(1);K.length=J.length}if(ue&7){le=ee(z[0].angles);let y;for(y=0;y<le.length;y+=1){const fe=vi(z,le,y);Q[y]?Q[y].p(fe,ue):(Q[y]=Oi(fe),Q[y].c(),Q[y].m(u,k))}for(;y<Q.length;y+=1)Q[y].d(1);Q.length=le.length}if(ue&1){X=ee(z[0].run_vmg);let y;for(y=0;y<X.length;y+=1){const fe=wi(z,X,y);j[y]?j[y].p(fe,ue):(j[y]=zi(fe),j[y].c(),j[y].m(M,null))}for(;y<j.length;y+=1)j[y].d(1);j.length=X.length}if(ue&1){ne=ee(z[0].run_angle);let y;for(y=0;y<ne.length;y+=1){const fe=pi(z,ne,y);$[y]?$[y].p(fe,ue):($[y]=Ti(fe),$[y].c(),$[y].m(I,null))}for(;y<$.length;y+=1)$[y].d(1);$.length=ne.length}},i:Y,o:Y,d(z){z&&R(e),Re(V,z),Re(A,z),Re(K,z),Re(Q,z),Re(j,z),Re($,z)}}}function Hu(t,e,n){let{vpp:l}=e,{hover:i=()=>{}}=e;function r(){i(void 0)}const s=(u,o,f)=>{i({tws:l.speeds[u],sog:o,cog:f})};return t.$$set=u=>{"vpp"in u&&n(0,l=u.vpp),"hover"in u&&n(1,i=u.hover)},[l,i,r,s]}class Bu extends je{constructor(e){super(),Ve(this,e,Hu,Lu,Pe,{vpp:0,hover:1})}}const Sl="twa/tws",Il=";";function Vu(t){if(t=t.trim(),t.indexOf(Sl)!==0)throw"CSV should start with "+Sl;var e=t.split(/\r?\n/).filter(l=>l.length>0&&l[0]!="#"),n={speeds:e[0].split(Il).slice(1).map(oo),angles:[]};return e.slice(1).forEach(function(l){var i=l.split(Il),r=Gl(i[0]);n.angles.push(r),n[r]=i.slice(1).map(Gl)}),n}function Di(t,e){var n="vpp"in t?t.vpp:t,l=[[Sl,...n.speeds],al(n.speeds.length+1)];return e&&n.beat_angle.forEach(function(i,r){var s=[i,...al(n.speeds.length)];s[r+1]=jl(_l(i,n.beat_vmg[r]),2),l.push(s)}),n.angles.forEach(function(i){l.push([i].concat(n[i]))}),e&&n.run_angle.forEach(function(i,r){var s=[i,...al(n.speeds.length)];s[r+1]=jl(_l(i,-n.run_vmg[r]),2),l.push(s)}),l.map(i=>i.join(Il)).join(`
`)}function Ni(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1],l}function Fi(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1],l}function Ri(t){var kt;let e,n,l,i,r,s,u,o,f,a,c,h,d=t[0].sailnumber+"",g,p,k,M,v,P=t[0].boat.designer+"",S,I,G,D=t[0].boat.builder+"",B,V,E,A,J,K,le=t[2].loa+"",Q,X,j,ne,$=t[2].beam+"",z,ue,y,fe,C=t[2].draft+"",q,te,ye,ie,U=t[2].displacement+"",he,De,tt,Ke,T,Ye,Je,st,F,Ie,Ue,Le=t[3].gph+"",Qe,Ge,ot=t[3].osn+"",vt,Ct,Et=(t[0].boat.stability_index||"?")+"",Ft,wn,Ut,yt,ht,Ce=t[3].triple_inshore.join(" ")+"",xe,ut,nn,ln,rn,sn=t[3].triple_offshore.join(" ")+"",on,Ot,me,ft,Ze,Rt,Pt,re,be,Ne,Kt,vn,Lt,un,Oe,dt,yn,$e={boats:[t[0]]};l=new rl({props:$e}),t[7](l);function at(W,ge){return W[0].name?Gu:ju}let it=at(t),et=it(t);function Qt(W,ge){return W[0].boat.type?Wu:qu}let Ht=Qt(t),ct=Ht(t),qe=ee(t[4]),Ae=[];for(let W=0;W<qe.length;W+=1)Ae[W]=Pi(Fi(t,qe,W));let _e=ee(t[4]),Ee=[];for(let W=0;W<_e.length;W+=1)Ee[W]=Li(Ni(t,_e,W));return me=new Bu({props:{vpp:t[0].vpp,hover:(kt=t[5])==null?void 0:kt.hover}}),{c(){e=w("div"),n=w("div"),de(l.$$.fragment),i=H(),r=w("div"),s=w("h1"),et.c(),u=H(),o=w("table"),f=w("tr"),f.innerHTML='<th class="svelte-900ebx">Sail number</th><th class="svelte-900ebx">Type</th><th class="svelte-900ebx">Designer</th><th class="svelte-900ebx">Builder</th>',a=H(),c=w("tr"),h=w("td"),g=Z(d),p=H(),k=w("td"),ct.c(),M=H(),v=w("td"),S=Z(P),I=H(),G=w("td"),B=Z(D),V=H(),E=w("tr"),E.innerHTML='<th class="svelte-900ebx">Length</th><th class="svelte-900ebx">Beam</th><th class="svelte-900ebx">Draft</th><th class="svelte-900ebx">Displacement</th>',A=H(),J=w("tr"),K=w("td"),Q=Z(le),X=Z(" m"),j=H(),ne=w("td"),z=Z($),ue=Z(" m"),y=H(),fe=w("td"),q=Z(C),te=Z(" m"),ye=H(),ie=w("td"),he=Z(U),De=Z(" kg"),tt=H(),Ke=w("tr");for(let W=0;W<Ae.length;W+=1)Ae[W].c();T=H(),Ye=w("tr");for(let W=0;W<Ee.length;W+=1)Ee[W].c();Je=H(),st=w("tr"),st.innerHTML='<th class="svelte-900ebx">GPH</th><th class="svelte-900ebx">OSN</th><th class="svelte-900ebx">Stability index</th>',F=H(),Ie=w("tr"),Ue=w("td"),Qe=Z(Le),Ge=w("td"),vt=Z(ot),Ct=w("td"),Ft=Z(Et),wn=H(),Ut=w("tr"),yt=w("th"),yt.textContent="Inshore TN",ht=w("td"),xe=Z(Ce),ut=H(),nn=w("tr"),ln=w("th"),ln.textContent="Offshore TN",rn=w("td"),on=Z(sn),Ot=H(),de(me.$$.fragment),ft=H(),Ze=w("h5"),Rt=Z(`Polar (CSV)
                `),Pt=w("small"),re=w("label"),be=w("input"),Ne=H(),Kt=w("small"),Kt.textContent="Extended CSV (including beat and run angles)",vn=H(),Lt=w("textarea"),b(n,"class","col-sm"),b(k,"class","svelte-900ebx"),b(yt,"class","svelte-900ebx"),b(ht,"colspan","3"),b(ln,"class","svelte-900ebx"),b(rn,"colspan","3"),b(o,"class","table"),b(be,"type","checkbox"),Lt.value=un=Di(t[0],t[1])+" ",oe(Lt,"extended",t[1]),b(r,"class","col-sm"),b(e,"class","row p-2")},m(W,ge){L(W,e,ge),m(e,n),ae(l,n,null),m(e,i),m(e,r),m(r,s),et.m(s,null),m(r,u),m(r,o),m(o,f),m(o,a),m(o,c),m(c,h),m(h,g),m(c,p),m(c,k),ct.m(k,null),m(c,M),m(c,v),m(v,S),m(c,I),m(c,G),m(G,B),m(o,V),m(o,E),m(o,A),m(o,J),m(J,K),m(K,Q),m(K,X),m(J,j),m(J,ne),m(ne,z),m(ne,ue),m(J,y),m(J,fe),m(fe,q),m(fe,te),m(J,ye),m(J,ie),m(ie,he),m(ie,De),m(o,tt),m(o,Ke);for(let nt=0;nt<Ae.length;nt+=1)Ae[nt]&&Ae[nt].m(Ke,null);m(o,T),m(o,Ye);for(let nt=0;nt<Ee.length;nt+=1)Ee[nt]&&Ee[nt].m(Ye,null);m(o,Je),m(o,st),m(o,F),m(o,Ie),m(Ie,Ue),m(Ue,Qe),m(Ie,Ge),m(Ge,vt),m(Ie,Ct),m(Ct,Ft),m(o,wn),m(o,Ut),m(Ut,yt),m(Ut,ht),m(ht,xe),m(o,ut),m(o,nn),m(nn,ln),m(nn,rn),m(rn,on),m(r,Ot),ae(me,r,null),m(r,ft),m(r,Ze),m(Ze,Rt),m(Ze,Pt),m(Pt,re),m(re,be),be.checked=t[1],m(re,Ne),m(re,Kt),m(r,vn),m(r,Lt),Oe=!0,dt||(yn=ve(be,"change",t[8]),dt=!0)},p(W,ge){var kn;const nt={};if(ge&1&&(nt.boats=[W[0]]),l.$set(nt),it===(it=at(W))&&et?et.p(W,ge):(et.d(1),et=it(W),et&&(et.c(),et.m(s,null))),(!Oe||ge&1)&&d!==(d=W[0].sailnumber+"")&&se(g,d),Ht===(Ht=Qt(W))&&ct?ct.p(W,ge):(ct.d(1),ct=Ht(W),ct&&(ct.c(),ct.m(k,null))),(!Oe||ge&1)&&P!==(P=W[0].boat.designer+"")&&se(S,P),(!Oe||ge&1)&&D!==(D=W[0].boat.builder+"")&&se(B,D),(!Oe||ge&4)&&le!==(le=W[2].loa+"")&&se(Q,le),(!Oe||ge&4)&&$!==($=W[2].beam+"")&&se(z,$),(!Oe||ge&4)&&C!==(C=W[2].draft+"")&&se(q,C),(!Oe||ge&4)&&U!==(U=W[2].displacement+"")&&se(he,U),ge&16){qe=ee(W[4]);let Me;for(Me=0;Me<qe.length;Me+=1){const zt=Fi(W,qe,Me);Ae[Me]?Ae[Me].p(zt,ge):(Ae[Me]=Pi(zt),Ae[Me].c(),Ae[Me].m(Ke,null))}for(;Me<Ae.length;Me+=1)Ae[Me].d(1);Ae.length=qe.length}if(ge&16){_e=ee(W[4]);let Me;for(Me=0;Me<_e.length;Me+=1){const zt=Ni(W,_e,Me);Ee[Me]?Ee[Me].p(zt,ge):(Ee[Me]=Li(zt),Ee[Me].c(),Ee[Me].m(Ye,null))}for(;Me<Ee.length;Me+=1)Ee[Me].d(1);Ee.length=_e.length}(!Oe||ge&8)&&Le!==(Le=W[3].gph+"")&&se(Qe,Le),(!Oe||ge&8)&&ot!==(ot=W[3].osn+"")&&se(vt,ot),(!Oe||ge&1)&&Et!==(Et=(W[0].boat.stability_index||"?")+"")&&se(Ft,Et),(!Oe||ge&8)&&Ce!==(Ce=W[3].triple_inshore.join(" ")+"")&&se(xe,Ce),(!Oe||ge&8)&&sn!==(sn=W[3].triple_offshore.join(" ")+"")&&se(on,sn);const Zt={};ge&1&&(Zt.vpp=W[0].vpp),ge&32&&(Zt.hover=(kn=W[5])==null?void 0:kn.hover),me.$set(Zt),ge&2&&(be.checked=W[1]),(!Oe||ge&3&&un!==(un=Di(W[0],W[1])+" "))&&(Lt.value=un),(!Oe||ge&2)&&oe(Lt,"extended",W[1])},i(W){Oe||(O(l.$$.fragment,W),O(me.$$.fragment,W),Oe=!0)},o(W){N(l.$$.fragment,W),N(me.$$.fragment,W),Oe=!1},d(W){W&&R(e),t[7](null),ce(l),et.d(),ct.d(),Re(Ae,W),Re(Ee,W),ce(me),dt=!1,yn()}}}function ju(t){let e;return{c(){e=w("span"),e.textContent="Name unknown",b(e,"class","text-muted")},m(n,l){L(n,e,l)},p:Y,d(n){n&&R(e)}}}function Gu(t){let e=t[0].name+"",n;return{c(){n=Z(e)},m(l,i){L(l,n,i)},p(l,i){i&1&&e!==(e=l[0].name+"")&&se(n,e)},d(l){l&&R(n)}}}function qu(t){let e;return{c(){e=Z("?")},m(n,l){L(n,e,l)},p:Y,d(n){n&&R(e)}}}function Wu(t){let e,n=t[0].boat.type+"",l,i;return{c(){e=w("a"),l=Z(n),b(e,"href",i="#type-"+t[0].boat.type),b(e,"class","svelte-900ebx")},m(r,s){L(r,e,s),m(e,l)},p(r,s){s&1&&n!==(n=r[0].boat.type+"")&&se(l,n),s&1&&i!==(i="#type-"+r[0].boat.type)&&b(e,"href",i)},d(r){r&&R(e)}}}function Pi(t){let e,n=t[11]+"",l;return{c(){e=w("th"),l=Z(n),b(e,"class","svelte-900ebx")},m(i,r){L(i,e,r),m(e,l)},p(i,r){r&16&&n!==(n=i[11]+"")&&se(l,n)},d(i){i&&R(e)}}}function Li(t){let e,n=t[12]+"",l;return{c(){e=w("td"),l=Z(n)},m(i,r){L(i,e,r),m(e,l)},p(i,r){r&16&&n!==(n=i[12]+"")&&se(l,n)},d(i){i&&R(e)}}}function Uu(t){let e,n,l=t[0]&&Ri(t);return{c(){l&&l.c(),e=Be()},m(i,r){l&&l.m(i,r),L(i,e,r),n=!0},p(i,[r]){i[0]?l?(l.p(i,r),r&1&&O(l,1)):(l=Ri(i),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(ke(),N(l,1,1,()=>{l=null}),Se())},i(i){n||(O(l),n=!0)},o(i){N(l),n=!1},d(i){i&&R(e),l&&l.d(i)}}}function Ku(t,e,n){let{sailnumber:l}=e,i,r=!1,s,u,o;async function f(g){n(0,i=await Qn(g)),n(2,s=i.boat.sizes),n(3,u=i.rating),n(4,o=a())}function a(){const g=i.boat.sizes,p=[["Main",g.main+"m²"],["Genoa",g.genoa+"m²"]];return g.spinnaker>0&&p.push(["Spinnaker",g.spinnaker+"m²"]),g.spinnaker_asym>0&&p.push(["Asym. spinnaker",g.spinnaker_asym+"m²"]),p}let c;function h(g){Xe[g?"unshift":"push"](()=>{c=g,n(5,c)})}function d(){r=this.checked,n(1,r)}return t.$$set=g=>{"sailnumber"in g&&n(6,l=g.sailnumber)},t.$$.update=()=>{t.$$.dirty&64&&l&&f(l)},[i,r,s,u,o,c,l,h,d]}class Qu extends je{constructor(e){super(),Ve(this,e,Ku,Uu,Pe,{sailnumber:6})}}var tn=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};tn.prototype.tokenize=function(t,e){if(t=Xu(String(t||"").toLowerCase()),!t||!t.length)return[];var n,l,i,r,s=[],u=t.split(/ +/);for(n=0,l=u.length;n<l;n++){if(i=Yu(u[n]),this.settings.diacritics)for(r in $t)$t.hasOwnProperty(r)&&(i=i.replace(new RegExp(r,"g"),$t[r]));e&&(i="\\b"+i),s.push({string:u[n],regex:new RegExp(i,"i")})}return s};tn.prototype.iterator=function(t,e){var n;Array.isArray(t)?n=Array.prototype.forEach||function(l){for(var i=0,r=this.length;i<r;i++)l(this[i],i,this)}:n=function(l){for(var i in this)this.hasOwnProperty(i)&&l(this[i],i,this)},n.apply(t,[e])};tn.prototype.getScoreFunction=function(t,e){var n,l,i,r,s;n=this,t=n.prepareSearch(t,e),i=t.tokens,l=t.options.fields,r=i.length,s=t.options.nesting;var u=function(f,a){var c,h;return!f||(f=String(f||""),h=f.search(a.regex),h===-1)?0:(c=a.string.length/f.length,h===0&&(c+=.5),c)},o=function(){var f=l.length;return f?f===1?function(a,c){return u(Ml(c,l[0],s),a)}:function(a,c){for(var h=0,d=0;h<f;h++)d+=u(Ml(c,l[h],s),a);return d/f}:function(){return 0}}();return r?r===1?function(f){return o(i[0],f)}:t.options.conjunction==="and"?function(f){for(var a,c=0,h=0;c<r;c++){if(a=o(i[c],f),a<=0)return 0;h+=a}return h/r}:function(f){for(var a=0,c=0;a<r;a++)c+=o(i[a],f);return c/r}:function(){return 0}};tn.prototype.getSortFunction=function(t,e){var n,l,i,r,s,u,o,f,a,c,h;if(i=this,t=i.prepareSearch(t,e),h=!t.query&&e.sort_empty||e.sort,a=function(d,g){return d==="$score"?g.score:Ml(i.items[g.id],d,e.nesting)},s=[],h)for(n=0,l=h.length;n<l;n++)(t.query||h[n].field!=="$score")&&s.push(h[n]);if(t.query){for(c=!0,n=0,l=s.length;n<l;n++)if(s[n].field==="$score"){c=!1;break}c&&s.unshift({field:"$score",direction:"desc"})}else for(n=0,l=s.length;n<l;n++)if(s[n].field==="$score"){s.splice(n,1);break}for(f=[],n=0,l=s.length;n<l;n++)f.push(s[n].direction==="desc"?-1:1);return u=s.length,u?u===1?(r=s[0].field,o=f[0],function(d,g){return o*Hi(a(r,d),a(r,g))}):function(d,g){var p,k,M;for(p=0;p<u;p++)if(M=s[p].field,k=f[p]*Hi(a(M,d),a(M,g)),k)return k;return 0}:null};tn.prototype.prepareSearch=function(t,e){if(typeof t=="object")return t;e=Zu({},e);var n=e.fields,l=e.sort,i=e.sort_empty;return n&&!Array.isArray(n)&&(e.fields=[n]),l&&!Array.isArray(l)&&(e.sort=[l]),i&&!Array.isArray(i)&&(e.sort_empty=[i]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t,e.respect_word_boundaries),total:0,items:[]}};tn.prototype.search=function(t,e){var n=this,l,i,r,s;return i=this.prepareSearch(t,e),e=i.options,t=i.query,s=e.score||n.getScoreFunction(i),t.length?n.iterator(n.items,function(u,o){l=s(u),(e.filter===!1||l>0)&&i.items.push({score:l,id:o})}):n.iterator(n.items,function(u,o){i.items.push({score:1,id:o})}),r=n.getSortFunction(i,e),r&&i.items.sort(r),i.total=i.items.length,typeof e.limit=="number"&&(i.items=i.items.slice(0,e.limit)),i};var Hi=function(t,e){return typeof t=="number"&&typeof e=="number"?t>e?1:t<e?-1:0:(t=el(String(t||"")),e=el(String(e||"")),t>e?1:e>t?-1:0)},Zu=function(t,e){var n,l,i,r;for(n=1,l=arguments.length;n<l;n++)if(r=arguments[n],!!r)for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t},Ml=function(t,e,n){if(!(!t||!e)){if(!n)return t[e];for(var l=e.split(".");l.length&&(t=t[l.shift()]););return t}},Xu=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},Yu=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},$t={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};const el=function(){var t,e,n,l,i="",r={};for(n in $t)if($t.hasOwnProperty(n))for(l=$t[n].substring(2,$t[n].length-1),i+=l,t=0,e=l.length;t<e;t++)r[l.charAt(t)]=n;var s=new RegExp("["+i+"]","g");return function(u){return u.replace(s,function(o){return r[o]}).toLowerCase()}}();function Ju(t){if(!t)return!1;const e=t.parentElement.parentElement.getBoundingClientRect(),n=t.getBoundingClientRect(),l={};return l.top=e.top<0,l.left=e.left<0,l.bottom=e.bottom+n.height>(window.innerHeight||document.documentElement.clientHeight),l.right=e.right>(window.innerWidth||document.documentElement.clientWidth),l.any=l.top||l.left||l.bottom||l.right,l}let Vt=null;function xu(t){return function(e,n){return new Promise((l,i)=>{Vt=new XMLHttpRequest,Vt.open("GET",`${t.replace("[query]",encodeURIComponent(e))}`),Vt.setRequestHeader("X-Requested-With","XMLHttpRequest"),Vt.send(),Vt.onreadystatechange=function(){if(this.readyState===4)if(this.status===200)try{const r=JSON.parse(this.response);l(n?n(r):r.data||r.items||r.options||r)}catch(r){console.warn("[Svelecte]:Fetch - error handling fetch response",r),i()}else i()}})}}function $u(t,e){let n;return function(){const l=this,i=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(l,i)},e)}}let cn;function Bi(t,e,n,l,i){const r=l?l(t,e,n):t;return n==""||t.isSelected||i?'<div class="sv-item-content">'+r+"</div>":(cn||(cn=document.createElement("div"),cn.className="sv-item-content"),cn.innerHTML=r,el(n).split(" ").filter(u=>u).forEach(u=>{ws(cn,u)}),cn.outerHTML)}const ws=function(t,e){let n=0;if(t.nodeType===3){const i=el(t.data);let r=i.indexOf(e);if(r-=i.substr(0,r).toUpperCase().length-i.substr(0,r).length,r>=0){const s=document.createElement("span");s.className="highlight";const u=t.splitText(r);u.splitText(e.length);const o=u.cloneNode(!0);s.appendChild(o),u.parentNode.replaceChild(s,u),n=1}}else if(t.nodeType===1&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.className!=="highlight"||t.tagName!=="SPAN"))for(var l=0;l<t.childNodes.length;++l)l+=ws(t.childNodes[l],e);return n};function Bn(t,e,n){const l=t==="value";if(n.isOptionArray)return l?"value":"label";let i=l?"value":"text";if(e&&e.length){const r=e[0][n.optItems]?e[0][n.optItems][0]:e[0];if(!r)return i;const s=l?0:1,u=l?["id","value","ID"]:["name","title","label"];i=Object.keys(r).filter(o=>u.includes(o)).concat([Object.keys(r)[s]]).shift()}return i}function ef(){var t;return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document||(((t=navigator==null?void 0:navigator.userAgentData)==null?void 0:t.platform)||(navigator==null?void 0:navigator.platform)||"").toLowerCase().includes("mac")}function tf(){return navigator.userAgent.toLowerCase().includes("android")}function nf(t,e){return(t||"").replace(/\t/g," ").trim().split(" ").filter(n=>n).join(" ")}function lf(t,e,n,l){return{[n]:t,[l]:e+t}}function rf(t){return`${t}`.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}const we={disabled:!1,valueField:null,labelField:null,groupLabelField:"label",groupItemsField:"options",disabledField:"$disabled",placeholder:"Select",valueAsObject:!1,searchable:!0,clearable:!1,highlightFirstItem:!0,selectOnTab:null,resetOnBlur:!0,resetOnSelect:!0,fetchResetOnBlur:!0,multiple:!1,closeAfterSelect:!1,max:0,collapseSelection:!1,alwaysCollapsed:!1,creatable:!1,creatablePrefix:"*",keepCreated:!0,allowEditing:!1,delimiter:",",fetchCallback:null,minQuery:1,lazyDropdown:!0,virtualList:!1,vlItemSize:null,vlHeight:null,i18n:{empty:"No options",nomatch:"No matching options",max:t=>`Maximum items ${t} selected`,fetchBefore:"Type to start searching",fetchQuery:(t,e)=>`Type ${t>1&&t>e?`at least ${t-e} characters `:""}to start searching`,fetchInit:"Fetching data, please wait...",fetchEmpty:"No data related to your search",collapsedSelection:t=>`${t} selected`,createRowLabel:t=>`Create '${t}'`},collapseSelectionFn:function(t,e){return this.collapsedSelection(t)}};function sf(t,e,n){if(e)return Array.isArray(t)?t:[t];const l=Array.isArray(t)?t:[t],i=n.labelAsValue?n.labelField:n.valueField;return this.reduce((s,u,o)=>{if(u[n.optItems]&&u[n.optItems].length){const f=u[n.optItems].reduce((a,c)=>(l.includes(c[i])&&a.push(c),a),[]);if(f.length)return s.push(...f),s}return l.includes(typeof u=="object"?u[i]:n.labelAsValue?u:o)&&(n.isOptionArray&&(u={[n.valueField]:o,[n.labelField]:u}),s.push(u)),s},[]).sort((s,u)=>l.indexOf(s[i])<l.indexOf(u[i])?-1:1)}function of(t,e){const n=t.reduce((l,i,r)=>e.isOptionArray?(l.push({[e.valueField]:r,[e.labelField]:i}),l):i[e.optItems]&&Array.isArray(i[e.optItems])?(i[e.optItems].length&&(e.optionsWithGroups=!0,l.push({label:i[e.optLabel],$isGroupHeader:!0}),l.push(...i[e.optItems].map(s=>(s.$isGroupItem=!0,s)))),l):(l.push(i),l),[]);return uf(n,e),n}function uf(t,e){e.isOptionArray&&(e.optionProps||(e.optionProps=["value","label"])),t.some(n=>n.$isGroupHeader?!1:(e.optionProps=vs(n),!0))}function vs(t){t.options&&(t=t.options[0]);const e=["$disabled","$isGroupHeader","$isGroupItem"];return Object.keys(t).filter(n=>!e.includes(n))}function ff(t,e,n,l,i,r){if(n&&(t=t.filter(a=>!n.has(a[r.valueField])).filter((a,c,h)=>!(a.$isGroupHeader&&(h[c+1]&&h[c+1].$isGroupHeader||h.length<=1||h.length-1===c)))),!e)return t;const s=new tn(t);r.optionsWithGroups&&(s.getSortFunction=()=>null);let u="and";e.startsWith("|| ")&&(u="or",e=e.substr(2));const o=s.search(e,{fields:l||r.optionProps,sort:af(i||r.labelField),conjunction:u});return r.optionsWithGroups?o.items.reduce((a,c)=>{const h=t[c.id];if(n&&h.isSelected)return a;const d=a.push(h);if(h.$isGroupItem){const g=t.slice(0,c.id);let p=null;do p=g.pop(),p&&p.$isGroupHeader&&!a.includes(p)&&a.splice(d-1,0,p);while(p&&!p.$isGroupHeader)}return a},[]):o.items.map(a=>t[a.id])}function af(t){return[{field:t,direction:"asc"}]}function cf(t,e,n){const l=n.optionsWithGroups?t.reduce((i,r,s)=>(i.push(r.$isGroupHeader?"":s),i),[]):Object.keys(t);return{map:l,first:l[0]!==""?0:1,last:l.length?l.length-(e?0:1):0,hasCreateRow:!!e,next(i,r){const s=this.map[++i];return this.hasCreateRow&&i===this.last?this.last:s===""?this.next(i):s===void 0?this.map.length?(i>this.map.length&&(i=this.first-1),r===!0?this.prev(i):this.next(i)):0:s},prev(i){const r=this.map[--i];return this.hasCreateRow&&i===this.first?this.first:r===""?this.prev(i):r||this.last}}}function hf(t){const e=t-1;return e*e*e+1}function df(t,{from:e,to:n},l={}){const i=getComputedStyle(t),r=i.transform==="none"?"":i.transform,[s,u]=i.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*s/n.width-(n.left+s),f=e.top+e.height*u/n.height-(n.top+u),{delay:a=0,duration:c=d=>Math.sqrt(d)*120,easing:h=hf}=l;return{delay:a,duration:Nt(c)?c(Math.sqrt(o*o+f*f)):c,easing:h,css:(d,g)=>{const p=g*o,k=g*f,M=d+g*e.width/n.width,v=d+g*e.height/n.height;return`transform: ${r} translate(${p}px, ${k}px) scale(${M}, ${v});`}}}function mf(t){let e,n,l,i,r,s,u,o;return{c(){e=w("input"),l=H(),i=w("div"),r=Z(t[12]),b(e,"type","text"),b(e,"class","inputBox svelte-x1t6fd"),e.disabled=t[2],e.readOnly=n=!t[1],b(e,"id",t[0]),b(e,"style",t[11]),b(e,"placeholder",t[7]),b(e,"enterkeyhint",t[10]),b(e,"inputmode",t[5]),b(i,"class","shadow-text svelte-x1t6fd"),An(()=>t[29].call(i))},m(f,a){L(f,e,a),t[27](e),qt(e,t[8]),L(f,l,a),L(f,i,a),m(i,r),s=Gs(i,t[29].bind(i)),u||(o=[ve(e,"input",t[28]),ve(e,"focus",t[23]),ve(e,"blur",t[24]),ve(e,"input",t[15]),ve(e,"keydown",t[13]),ve(e,"keyup",t[14]),ve(e,"paste",t[25]),ve(e,"change",Bs(t[26]))],u=!0)},p(f,a){a[0]&4&&(e.disabled=f[2]),a[0]&2&&n!==(n=!f[1])&&(e.readOnly=n),a[0]&1&&b(e,"id",f[0]),a[0]&2048&&b(e,"style",f[11]),a[0]&128&&b(e,"placeholder",f[7]),a[0]&1024&&b(e,"enterkeyhint",f[10]),a[0]&32&&b(e,"inputmode",f[5]),a[0]&256&&e.value!==f[8]&&qt(e,f[8]),a[0]&4096&&se(r,f[12])},i:Y,o:Y,d(f){f&&(R(e),R(l),R(i)),t[27](null),s(),u=!1,rt(o)}}}function gf(t,e,n){let l,i,r,s,u,o,f,a=Y,c=()=>(a(),a=jt(I,C=>n(8,f=C)),I),h,d=Y,g=()=>(d(),d=jt(G,C=>n(31,h=C)),G);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>d());const p=()=>E.focus();let{inputId:k}=e,{placeholder:M}=e,{searchable:v}=e,{disabled:P}=e,{multiple:S}=e,{inputValue:I}=e;c();let{hasDropdownOpened:G}=e;g();let{selectedOptions:D}=e,{isAndroid:B}=e,{inputMode:V="text"}=e,E=null,A=0;const J=Tn();let K=!1;function le(C){if(B&&!o&&C.key==="Enter")return!0;K=["Enter","Escape"].includes(C.key)&&h,J("keydown",C)}function Q(C){K&&(C.stopImmediatePropagation(),C.preventDefault()),K=!1}function X(C){D.length===1&&!S&&Fe(I,f="",f)}function j(C){Te.call(this,t,C)}function ne(C){Te.call(this,t,C)}function $(C){Te.call(this,t,C)}function z(C){Te.call(this,t,C)}function ue(C){Xe[C?"unshift":"push"](()=>{E=C,n(9,E)})}function y(){f=this.value,I.set(f)}function fe(){A=this.clientWidth,n(6,A)}return t.$$set=C=>{"inputId"in C&&n(0,k=C.inputId),"placeholder"in C&&n(17,M=C.placeholder),"searchable"in C&&n(1,v=C.searchable),"disabled"in C&&n(2,P=C.disabled),"multiple"in C&&n(18,S=C.multiple),"inputValue"in C&&c(n(3,I=C.inputValue)),"hasDropdownOpened"in C&&g(n(4,G=C.hasDropdownOpened)),"selectedOptions"in C&&n(19,D=C.selectedOptions),"isAndroid"in C&&n(20,B=C.isAndroid),"inputMode"in C&&n(5,V=C.inputMode)},t.$$.update=()=>{t.$$.dirty[0]&786432&&n(21,l=D.length>0&&S===!1),t.$$.dirty[0]&655360&&n(7,i=D.length>0?"":M),t.$$.dirty[0]&384&&n(12,r=f||i),t.$$.dirty[0]&524288&&n(22,s=D.length===0?19:12),t.$$.dirty[0]&6291520&&n(11,u=`width: ${l?2:A+s}px`),t.$$.dirty[0]&2097152&&n(10,o=l?null:"enter")},[k,v,P,I,G,V,A,i,f,E,o,u,r,le,Q,X,p,M,S,D,B,l,s,j,ne,$,z,ue,y,fe]}class _f extends je{constructor(e){super(),Ve(this,e,gf,mf,Pe,{focus:16,inputId:0,placeholder:17,searchable:1,disabled:2,multiple:18,inputValue:3,hasDropdownOpened:4,selectedOptions:19,isAndroid:20,inputMode:5},null,[-1,-1])}get focus(){return this.$$.ctx[16]}}const bf=t=>({}),Vi=t=>({}),pf=t=>({hasDropdownOpened:t[0]&2097152}),ji=t=>({hasDropdownOpened:t[21]}),wf=t=>({}),Gi=t=>({});function qi(t,e,n){const l=t.slice();return l[41]=e[n],l}const vf=t=>({}),Wi=t=>({});function Ui(t){let e,n,l,i;const r=[kf,yf],s=[];function u(o,f){return o[5]&&o[6]&&o[19]?0:1}return e=u(t),n=s[e]=r[e](t),{c(){n.c(),l=Be()},m(o,f){s[e].m(o,f),L(o,l,f),i=!0},p(o,f){let a=e;e=u(o),e===a?s[e].p(o,f):(ke(),N(s[a],1,1,()=>{s[a]=null}),Se(),n=s[e],n?n.p(o,f):(n=s[e]=r[e](o),n.c()),O(n,1),n.m(l.parentNode,l))},i(o){i||(O(n),i=!0)},o(o){N(n),i=!1},d(o){o&&R(l),s[e].d(o)}}}function yf(t){let e=[],n=new Map,l,i,r=ee(t[11]);const s=u=>u[41][u[14]];for(let u=0;u<r.length;u+=1){let o=qi(t,r,u),f=s(o);n.set(f,e[u]=Ki(f,o))}return{c(){for(let u=0;u<e.length;u+=1)e[u].c();l=Be()},m(u,o){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(u,o);L(u,l,o),i=!0},p(u,o){if(o[0]&8439844){r=ee(u[11]),ke();for(let f=0;f<e.length;f+=1)e[f].r();e=Dl(e,o,s,1,u,r,n,l.parentNode,no,Ki,l,qi);for(let f=0;f<e.length;f+=1)e[f].a();Se()}},i(u){if(!i){for(let o=0;o<r.length;o+=1)O(e[o]);i=!0}},o(u){for(let o=0;o<e.length;o+=1)N(e[o]);i=!1},d(u){u&&R(l);for(let o=0;o<e.length;o+=1)e[o].d(u)}}}function kf(t){let e,n=t[6](t[11].length,t[11])+"",l;return{c(){e=new nl(!1),l=Be(),e.a=l},m(i,r){e.m(n,i,r),L(i,l,r)},p(i,r){r[0]&2112&&n!==(n=i[6](i[11].length,i[11])+"")&&e.p(n)},i:Y,o:Y,d(i){i&&(R(l),e.d())}}}function Ki(t,e){let n,l,i,r,s=Y,u;var o=e[15];function f(a,c){return{props:{formatter:a[2],item:a[41],isSelected:!0,isMultiple:a[5],inputValue:a[23]}}}return o&&(l=Wt(o,f(e)),l.$on("deselect",e[36])),{key:t,first:null,c(){n=w("div"),l&&de(l.$$.fragment),i=H(),this.first=n},m(a,c){L(a,n,c),l&&ae(l,n,null),m(n,i),u=!0},p(a,c){if(e=a,c[0]&32768&&o!==(o=e[15])){if(l){ke();const h=l;N(h.$$.fragment,1,0,()=>{ce(h,1)}),Se()}o?(l=Wt(o,f(e)),l.$on("deselect",e[36]),de(l.$$.fragment),O(l.$$.fragment,1),ae(l,n,i)):l=null}else if(o){const h={};c[0]&4&&(h.formatter=e[2]),c[0]&2048&&(h.item=e[41]),c[0]&32&&(h.isMultiple=e[5]),c[0]&8388608&&(h.inputValue=e[23]),l.$set(h)}},r(){r=n.getBoundingClientRect()},f(){Ys(n),s()},a(){s(),s=Xs(n,r,df,{duration:Al})},i(a){u||(l&&O(l.$$.fragment,a),u=!0)},o(a){l&&N(l.$$.fragment,a),u=!1},d(a){a&&R(n),l&&ce(l)}}}function Qi(t){let e,n,l,i;const r=t[32]["clear-icon"],s=_t(r,t,t[31],Gi);return{c(){e=w("div"),s&&s.c(),b(e,"aria-hidden","true"),b(e,"class","indicator-container close-icon svelte-1l8hgl2")},m(u,o){L(u,e,o),s&&s.m(e,null),n=!0,l||(i=[ve(e,"mousedown",zl(t[33])),ve(e,"click",t[40])],l=!0)},p(u,o){s&&s.p&&(!n||o[1]&1)&&pt(s,r,u,u[31],n?bt(r,u[31],o,wf):wt(u[31]),Gi)},i(u){n||(O(s,u),n=!0)},o(u){N(s,u),n=!1},d(u){u&&R(e),s&&s.d(u),l=!1,rt(i)}}}function Zi(t){let e;return{c(){e=w("span"),b(e,"class","indicator-separator svelte-1l8hgl2")},m(n,l){L(n,e,l)},d(n){n&&R(e)}}}function Sf(t){let e,n,l,i,r,s,u,o,f,a,c,h,d,g,p;const k=t[32].icon,M=_t(k,t,t[31],Wi);let v=t[11].length&&Ui(t),P={disabled:t[3],searchable:t[1],placeholder:t[4],multiple:t[5],inputId:t[7],inputValue:t[8],hasDropdownOpened:t[10],selectedOptions:t[11],isAndroid:t[16],inputMode:t[18]};r=new _f({props:P}),t[37](r),r.$on("focus",t[25]),r.$on("blur",t[26]),r.$on("keydown",t[38]),r.$on("paste",t[39]);let S=t[0]&&!t[3]&&Qi(t),I=t[0]&&Zi();const G=t[32]["indicator-icon"],D=_t(G,t,t[31],ji),B=t[32]["control-end"],V=_t(B,t,t[31],Vi);return{c(){e=w("div"),M&&M.c(),n=H(),l=w("div"),v&&v.c(),i=H(),de(r.$$.fragment),u=H(),o=w("div"),S&&S.c(),f=H(),I&&I.c(),a=H(),c=w("div"),D&&D.c(),h=H(),V&&V.c(),b(l,"class","sv-content sv-input-row svelte-1l8hgl2"),oe(l,"has-multiSelection",t[5]),b(c,"aria-hidden","true"),b(c,"class","indicator-container svelte-1l8hgl2"),b(o,"class","indicator svelte-1l8hgl2"),oe(o,"is-loading",t[12]),b(e,"class","sv-control svelte-1l8hgl2"),oe(e,"is-active",t[22]),oe(e,"is-disabled",t[3])},m(E,A){L(E,e,A),M&&M.m(e,null),m(e,n),m(e,l),v&&v.m(l,null),m(l,i),ae(r,l,null),m(e,u),m(e,o),S&&S.m(o,null),m(o,f),I&&I.m(o,null),m(o,a),m(o,c),D&&D.m(c,null),m(e,h),V&&V.m(e,null),d=!0,g||(p=[El(s=t[13].call(null,l,{items:t[11],flipDurationMs:Al,type:t[7]})),ve(l,"consider",t[34]),ve(l,"finalize",t[35]),ve(c,"mousedown",t[27]),ve(e,"mousedown",t[17])],g=!0)},p(E,A){M&&M.p&&(!d||A[1]&1)&&pt(M,k,E,E[31],d?bt(k,E[31],A,vf):wt(E[31]),Wi),E[11].length?v?(v.p(E,A),A[0]&2048&&O(v,1)):(v=Ui(E),v.c(),O(v,1),v.m(l,i)):v&&(ke(),N(v,1,1,()=>{v=null}),Se());const J={};A[0]&8&&(J.disabled=E[3]),A[0]&2&&(J.searchable=E[1]),A[0]&16&&(J.placeholder=E[4]),A[0]&32&&(J.multiple=E[5]),A[0]&128&&(J.inputId=E[7]),A[0]&256&&(J.inputValue=E[8]),A[0]&1024&&(J.hasDropdownOpened=E[10]),A[0]&2048&&(J.selectedOptions=E[11]),A[0]&65536&&(J.isAndroid=E[16]),A[0]&262144&&(J.inputMode=E[18]),r.$set(J),s&&Nt(s.update)&&A[0]&2176&&s.update.call(null,{items:E[11],flipDurationMs:Al,type:E[7]}),(!d||A[0]&32)&&oe(l,"has-multiSelection",E[5]),E[0]&&!E[3]?S?(S.p(E,A),A[0]&9&&O(S,1)):(S=Qi(E),S.c(),O(S,1),S.m(o,f)):S&&(ke(),N(S,1,1,()=>{S=null}),Se()),E[0]?I||(I=Zi(),I.c(),I.m(o,a)):I&&(I.d(1),I=null),D&&D.p&&(!d||A[0]&2097152|A[1]&1)&&pt(D,G,E,E[31],d?bt(G,E[31],A,pf):wt(E[31]),ji),(!d||A[0]&4096)&&oe(o,"is-loading",E[12]),V&&V.p&&(!d||A[1]&1)&&pt(V,B,E,E[31],d?bt(B,E[31],A,bf):wt(E[31]),Vi),(!d||A[0]&4194304)&&oe(e,"is-active",E[22]),(!d||A[0]&8)&&oe(e,"is-disabled",E[3])},i(E){d||(O(M,E),O(v),O(r.$$.fragment,E),O(S),O(D,E),O(V,E),d=!0)},o(E){N(M,E),N(v),N(r.$$.fragment,E),N(S),N(D,E),N(V,E),d=!1},d(E){E&&R(e),M&&M.d(E),v&&v.d(),t[37](null),ce(r),S&&S.d(),I&&I.d(),D&&D.d(E),V&&V.d(E),g=!1,rt(p)}}}const Al=100;function If(t,e,n){let l,i=Y,r=()=>(i(),i=jt(E,T=>n(21,l=T)),E),s,u=Y,o=()=>(u(),u=jt(V,T=>n(22,s=T)),V),f,a=Y,c=()=>(a(),a=jt(B,T=>n(23,f=T)),B);t.$$.on_destroy.push(()=>i()),t.$$.on_destroy.push(()=>u()),t.$$.on_destroy.push(()=>a());let{$$slots:h={},$$scope:d}=e,{clearable:g}=e,{searchable:p}=e,{renderer:k}=e,{disabled:M}=e,{placeholder:v}=e,{multiple:P}=e,{resetOnBlur:S}=e,{collapseSelection:I}=e,{alwaysCollapsed:G}=e,{inputId:D}=e,{inputValue:B}=e;c();let{hasFocus:V}=e;o();let{hasDropdownOpened:E}=e;r();let{selectedOptions:A}=e,{isFetchingData:J}=e,{dndzone:K}=e,{currentValueField:le}=e,{itemComponent:Q}=e,{isAndroid:X}=e,{isIOS:j}=e,ne="none";function $(T){if(!M){if(T)(T==null?void 0:T.target.tagName)!=="INPUT"&&T.preventDefault();else{!s&&y.focus(),Fe(E,l=!0,l);return}if(!s)y.focus();else{if((X||j)&&ne!=="text"){n(18,ne="text");return}if((T==null?void 0:T.target.tagName)==="INPUT"&&f)return;if(ne==="text"){n(18,ne="none"),Fe(E,l=!0,l);return}Fe(E,l=!l,l)}}}const z=Tn();let ue=!0,y;function fe(){Fe(V,s=!0,s),Fe(E,l=!0,l),!G&&setTimeout(()=>{n(19,ue=!1)},150)}function C(){n(18,ne="none"),Fe(V,s=!1,s),Fe(E,l=!1,l),S&&Fe(B,f="",f),!G&&setTimeout(()=>{n(19,ue=!0)},100),z("blur")}function q(T){T.preventDefault(),T.stopPropagation(),n(18,ne="none"),s?Fe(E,l=!l,l):y.focus()}function te(T){Te.call(this,t,T)}function ye(T){Te.call(this,t,T)}function ie(T){Te.call(this,t,T)}function U(T){Te.call(this,t,T)}function he(T){Xe[T?"unshift":"push"](()=>{y=T,n(20,y)})}function De(T){Te.call(this,t,T)}function tt(T){Te.call(this,t,T)}const Ke=()=>z("deselect");return t.$$set=T=>{"clearable"in T&&n(0,g=T.clearable),"searchable"in T&&n(1,p=T.searchable),"renderer"in T&&n(2,k=T.renderer),"disabled"in T&&n(3,M=T.disabled),"placeholder"in T&&n(4,v=T.placeholder),"multiple"in T&&n(5,P=T.multiple),"resetOnBlur"in T&&n(28,S=T.resetOnBlur),"collapseSelection"in T&&n(6,I=T.collapseSelection),"alwaysCollapsed"in T&&n(29,G=T.alwaysCollapsed),"inputId"in T&&n(7,D=T.inputId),"inputValue"in T&&c(n(8,B=T.inputValue)),"hasFocus"in T&&o(n(9,V=T.hasFocus)),"hasDropdownOpened"in T&&r(n(10,E=T.hasDropdownOpened)),"selectedOptions"in T&&n(11,A=T.selectedOptions),"isFetchingData"in T&&n(12,J=T.isFetchingData),"dndzone"in T&&n(13,K=T.dndzone),"currentValueField"in T&&n(14,le=T.currentValueField),"itemComponent"in T&&n(15,Q=T.itemComponent),"isAndroid"in T&&n(16,X=T.isAndroid),"isIOS"in T&&n(30,j=T.isIOS),"$$scope"in T&&n(31,d=T.$$scope)},[g,p,k,M,v,P,I,D,B,V,E,A,J,K,le,Q,X,$,ne,ue,y,l,s,f,z,fe,C,q,S,G,j,d,h,te,ye,ie,U,he,De,tt,Ke]}class Mf extends je{constructor(e){super(),Ve(this,e,If,Sf,Pe,{clearable:0,searchable:1,renderer:2,disabled:3,placeholder:4,multiple:5,resetOnBlur:28,collapseSelection:6,alwaysCollapsed:29,inputId:7,inputValue:8,hasFocus:9,hasDropdownOpened:10,selectedOptions:11,isFetchingData:12,dndzone:13,currentValueField:14,itemComponent:15,isAndroid:16,isIOS:30,focusControl:17},null,[-1,-1])}get focusControl(){return this.$$.ctx[17]}}const Vn={START:"start",CENTER:"center",END:"end"},Tt={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Sn={OBSERVED:0,REQUESTED:1},Af={[Tt.VERTICAL]:"top",[Tt.HORIZONTAL]:"left"},Xi={[Tt.VERTICAL]:"scrollTop",[Tt.HORIZONTAL]:"scrollLeft"};class Cf{constructor({itemSize:e,itemCount:n,estimatedItemSize:l}){this.itemSize=e,this.itemCount=n,this.estimatedItemSize=l,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:n,estimatedItemSize:l}){n!=null&&(this.itemCount=n),l!=null&&(this.estimatedItemSize=l),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:n}=this;return typeof n=="function"?n(e):Array.isArray(n)?n[e]:n}computeTotalSizeAndPositionData(){let e=0;for(let n=0;n<this.itemCount;n++){const l=this.getSize(n),i=e;e+=l,this.itemSizeAndPositionData[n]={offset:i,size:l}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const n=this.getSizeAndPositionOfLastMeasuredItem();let l=n.offset+n.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const r=this.getSize(i);if(r==null||isNaN(r))throw Error(`Invalid size returned for index ${i} of value ${r}`);this.itemSizeAndPositionData[i]={offset:l,size:r},l+=r}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Vn.START,containerSize:n,currentOffset:l,targetIndex:i}){if(n<=0)return 0;const r=this.getSizeAndPositionForIndex(i),s=r.offset,u=s-n+r.size;let o;switch(e){case Vn.END:o=u;break;case Vn.CENTER:o=s-(n-r.size)/2;break;case Vn.START:o=s;break;default:o=Math.max(u,Math.min(s,l))}const f=this.getTotalSize();return Math.max(0,Math.min(f-n,o))}getVisibleRange({containerSize:e=0,offset:n,overscanCount:l}){if(this.getTotalSize()===0)return{};const r=n+e;let s=this.findNearestItem(n);if(s===void 0)throw Error(`Invalid offset ${n} specified`);const u=this.getSizeAndPositionForIndex(s);n=u.offset+u.size;let o=s;for(;n<r&&o<this.itemCount-1;)o++,n+=this.getSizeAndPositionForIndex(o).size;return l&&(s=Math.max(0,s-l),o=Math.min(o+l,this.itemCount-1)),{start:s,stop:o}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const n=this.getSizeAndPositionOfLastMeasuredItem(),l=Math.max(0,this.lastMeasuredIndex);return n.offset>=e?this.binarySearch({high:l,low:0,offset:e}):this.exponentialSearch({index:l,offset:e})}binarySearch({low:e,high:n,offset:l}){let i=0,r=0;for(;e<=n;){if(i=e+Math.floor((n-e)/2),r=this.getSizeAndPositionForIndex(i).offset,r===l)return i;r<l?e=i+1:r>l&&(n=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:n}){let l=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<n;)e+=l,l*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:n})}}const Ef=t=>({}),Yi=t=>({});function Ji(t,e,n){const l=t.slice();return l[37]=e[n],l}const Of=t=>({style:t[0]&4,index:t[0]&4}),xi=t=>({style:t[37].style,index:t[37].index}),zf=t=>({}),$i=t=>({});function er(t,e){let n,l;const i=e[21].item,r=_t(i,e,e[20],xi);return{key:t,first:null,c(){n=Be(),r&&r.c(),this.first=n},m(s,u){L(s,n,u),r&&r.m(s,u),l=!0},p(s,u){e=s,r&&r.p&&(!l||u[0]&1048580)&&pt(r,i,e,e[20],l?bt(i,e[20],u,Of):wt(e[20]),xi)},i(s){l||(O(r,s),l=!0)},o(s){N(r,s),l=!1},d(s){s&&R(n),r&&r.d(s)}}}function Tf(t){let e,n,l,i=[],r=new Map,s,u;const o=t[21].header,f=_t(o,t,t[20],$i);let a=ee(t[2]);const c=g=>g[0]?g[0](g[37].index):g[37].index;for(let g=0;g<a.length;g+=1){let p=Ji(t,a,g),k=c(p);r.set(k,i[g]=er(k,p))}const h=t[21].footer,d=_t(h,t,t[20],Yi);return{c(){e=w("div"),f&&f.c(),n=H(),l=w("div");for(let g=0;g<i.length;g+=1)i[g].c();s=H(),d&&d.c(),b(l,"class","virtual-list-inner svelte-dwpad5"),b(l,"style",t[4]),b(e,"class","virtual-list-wrapper svelte-dwpad5"),b(e,"style",t[3])},m(g,p){L(g,e,p),f&&f.m(e,null),m(e,n),m(e,l);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(l,null);m(e,s),d&&d.m(e,null),t[22](e),u=!0},p(g,p){f&&f.p&&(!u||p[0]&1048576)&&pt(f,o,g,g[20],u?bt(o,g[20],p,zf):wt(g[20]),$i),p[0]&1048581&&(a=ee(g[2]),ke(),i=Dl(i,p,c,1,g,a,r,l,Tl,er,null,Ji),Se()),(!u||p[0]&16)&&b(l,"style",g[4]),d&&d.p&&(!u||p[0]&1048576)&&pt(d,h,g,g[20],u?bt(h,g[20],p,Ef):wt(g[20]),Yi),(!u||p[0]&8)&&b(e,"style",g[3])},i(g){if(!u){O(f,g);for(let p=0;p<a.length;p+=1)O(i[p]);O(d,g),u=!0}},o(g){N(f,g);for(let p=0;p<i.length;p+=1)N(i[p]);N(d,g),u=!1},d(g){g&&R(e),f&&f.d(g);for(let p=0;p<i.length;p+=1)i[p].d();d&&d.d(g),t[22](null)}}}const Df=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function Nf(t,e,n){let{$$slots:l={},$$scope:i}=e,{height:r}=e,{width:s="100%"}=e,{itemCount:u}=e,{itemSize:o}=e,{estimatedItemSize:f=null}=e,{stickyIndices:a=null}=e,{getKey:c=null}=e,{scrollDirection:h=Tt.VERTICAL}=e,{scrollOffset:d=null}=e,{scrollToIndex:g=null}=e,{scrollToAlignment:p=null}=e,{scrollToBehaviour:k="instant"}=e,{overscanCount:M=3}=e;const v=Tn(),P=new Cf({itemCount:u,itemSize:o,estimatedItemSize:ue()});let S=!1,I,G=[],D={offset:d||g!=null&&G.length&&ne(g)||0,scrollChangeReason:Sn.REQUESTED},B=D,V={scrollToIndex:g,scrollToAlignment:p,scrollOffset:d,itemCount:u,itemSize:o,estimatedItemSize:f},E={},A="",J="";Q(),zn(()=>{n(18,S=!0),I.addEventListener("scroll",$,Df),d!=null?X(d):g!=null&&X(ne(g))}),Xr(()=>{S&&I.removeEventListener("scroll",$)});function K(){if(!S)return;const C=V.scrollToIndex!==g||V.scrollToAlignment!==p,q=V.itemCount!==u||V.itemSize!==o||V.estimatedItemSize!==f;q&&(P.updateConfig({itemSize:o,itemCount:u,estimatedItemSize:ue()}),j()),V.scrollOffset!==d?n(19,D={offset:d||0,scrollChangeReason:Sn.REQUESTED}):typeof g=="number"&&(C||q)&&n(19,D={offset:ne(g,p,u),scrollChangeReason:Sn.REQUESTED}),V={scrollToIndex:g,scrollToAlignment:p,scrollOffset:d,itemCount:u,itemSize:o,estimatedItemSize:f}}function le(){if(!S)return;const{offset:C,scrollChangeReason:q}=D;(B.offset!==C||B.scrollChangeReason!==q)&&Q(),B.offset!==C&&q===Sn.REQUESTED&&X(C),B=D}function Q(){const{offset:C}=D,{start:q,stop:te}=P.getVisibleRange({containerSize:h===Tt.VERTICAL?r:s,offset:C,overscanCount:M});let ye=[];const ie=P.getTotalSize();h===Tt.VERTICAL?(n(3,A=`height:${r}px;width:${s};`),n(4,J=`flex-direction:column;height:${ie}px;`)):(n(3,A=`height:${r};width:${s}px`),n(4,J=`min-height:100%;width:${ie}px;`));const U=a!=null&&a.length!==0;if(U)for(let he=0;he<a.length;he++){const De=a[he];ye.push({index:De,style:y(De,!0)})}if(q!==void 0&&te!==void 0){for(let he=q;he<=te;he++)U&&a.includes(he)||ye.push({index:he,style:y(he,!1)});v("itemsUpdated",{start:q,end:te})}n(2,G=ye)}function X(C){"scroll"in I?I.scroll({[Af[h]]:C,behavior:k}):n(1,I[Xi[h]]=C,I)}function j(C=0){E={},P.resetItem(C),Q()}function ne(C,q=p,te=u){return(C<0||C>=te)&&(C=0),P.getUpdatedOffsetForIndex({align:q,containerSize:h===Tt.VERTICAL?r:s,currentOffset:D.offset||0,targetIndex:C})}function $(C){const q=z();q<0||D.offset===q||C.target!==I||(n(19,D={offset:q,scrollChangeReason:Sn.OBSERVED}),v("afterScroll",{offset:q,event:C}))}function z(){return I[Xi[h]]}function ue(){return f||typeof o=="number"&&o||50}function y(C,q){if(E[C])return E[C];const{size:te,offset:ye}=P.getSizeAndPositionForIndex(C);let ie;return h===Tt.VERTICAL?(ie=`left:0;width:100%;height:${te}px;`,q?ie+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ye}px;margin-bottom:${-(ye+te)}px;`:ie+=`position:absolute;top:${ye}px;`):(ie=`top:0;width:${te}px;`,q?ie+=`position:sticky;z-index:1;left:0;margin-left:${ye}px;margin-right:${-(ye+te)}px;`:ie+=`position:absolute;height:100%;left:${ye}px;`),E[C]=ie}function fe(C){Xe[C?"unshift":"push"](()=>{I=C,n(1,I)})}return t.$$set=C=>{"height"in C&&n(5,r=C.height),"width"in C&&n(6,s=C.width),"itemCount"in C&&n(7,u=C.itemCount),"itemSize"in C&&n(8,o=C.itemSize),"estimatedItemSize"in C&&n(9,f=C.estimatedItemSize),"stickyIndices"in C&&n(10,a=C.stickyIndices),"getKey"in C&&n(0,c=C.getKey),"scrollDirection"in C&&n(11,h=C.scrollDirection),"scrollOffset"in C&&n(12,d=C.scrollOffset),"scrollToIndex"in C&&n(13,g=C.scrollToIndex),"scrollToAlignment"in C&&n(14,p=C.scrollToAlignment),"scrollToBehaviour"in C&&n(15,k=C.scrollToBehaviour),"overscanCount"in C&&n(16,M=C.overscanCount),"$$scope"in C&&n(20,i=C.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&K(),t.$$.dirty[0]&524288&&le(),t.$$.dirty[0]&263264&&S&&j(0)},[c,I,G,A,J,r,s,u,o,f,a,h,d,g,p,k,M,j,S,D,i,l,fe]}class Ff extends je{constructor(e){super(),Ve(this,e,Nf,Tf,Pe,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function tr(t,e,n){const l=t.slice();return l[51]=e[n],l[53]=n,l}function nr(t,e,n){const l=t.slice();return l[51]=e[n],l[53]=n,l}function lr(t){let e,n,l,i,r,s,u,o,f,a=t[17]&&ir(t),c=t[5].length&&sr(t),h=(t[19]||t[2])&&ur(t),d=t[8]&&t[1]&&!t[2]&&fr(t);return{c(){e=w("div"),a&&a.c(),n=H(),l=w("div"),i=w("div"),c&&c.c(),r=H(),h&&h.c(),s=H(),d&&d.c(),b(i,"class","sv-dropdown-content svelte-9227bl"),oe(i,"max-reached",t[2]),b(l,"class","sv-dropdown-scroll svelte-9227bl"),b(l,"tabindex","-1"),oe(l,"is-empty",!t[5].length),b(e,"class","sv-dropdown svelte-9227bl"),b(e,"aria-expanded",t[27]),oe(e,"is-virtual",t[7])},m(g,p){L(g,e,p),a&&a.m(e,null),m(e,n),m(e,l),m(l,i),c&&c.m(i,null),m(i,r),h&&h.m(i,null),t[42](i),t[43](l),m(e,s),d&&d.m(e,null),u=!0,o||(f=ve(e,"mousedown",zl(t[35])),o=!0)},p(g,p){g[17]?a?(a.p(g,p),p[0]&131072&&O(a,1)):(a=ir(g),a.c(),O(a,1),a.m(e,n)):a&&(ke(),N(a,1,1,()=>{a=null}),Se()),g[5].length?c?(c.p(g,p),p[0]&32&&O(c,1)):(c=sr(g),c.c(),O(c,1),c.m(i,r)):c&&(ke(),N(c,1,1,()=>{c=null}),Se()),g[19]||g[2]?h?h.p(g,p):(h=ur(g),h.c(),h.m(i,null)):h&&(h.d(1),h=null),(!u||p[0]&4)&&oe(i,"max-reached",g[2]),(!u||p[0]&32)&&oe(l,"is-empty",!g[5].length),g[8]&&g[1]&&!g[2]?d?d.p(g,p):(d=fr(g),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!u||p[0]&134217728)&&b(e,"aria-expanded",g[27]),(!u||p[0]&128)&&oe(e,"is-virtual",g[7])},i(g){u||(O(a),O(c),u=!0)},o(g){N(a),N(c),u=!1},d(g){g&&R(e),a&&a.d(),c&&c.d(),h&&h.d(),t[42](null),t[43](null),d&&d.d(),o=!1,f()}}}function ir(t){let e,n=[],l=new Map,i,r=ee(t[17]);const s=u=>u[53];for(let u=0;u<r.length;u+=1){let o=nr(t,r,u),f=s(o);l.set(f,n[u]=rr(f,o))}return{c(){e=w("div");for(let u=0;u<n.length;u+=1)n[u].c();b(e,"class","sv-content has-multiSelection alwaysCollapsed-selection svelte-9227bl")},m(u,o){L(u,e,o);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);i=!0},p(u,o){o[0]&197384&&(r=ee(u[17]),ke(),n=Dl(n,o,s,1,u,r,l,e,Tl,rr,null,nr),Se())},i(u){if(!i){for(let o=0;o<r.length;o+=1)O(n[o]);i=!0}},o(u){for(let o=0;o<n.length;o+=1)N(n[o]);i=!1},d(u){u&&R(e);for(let o=0;o<n.length;o+=1)n[o].d()}}}function rr(t,e){let n,l,i,r;var s=e[16];function u(o,f){return{props:{formatter:o[3],item:o[51],isSelected:!0,isMultiple:o[9],inputValue:o[8]}}}return s&&(l=Wt(s,u(e)),l.$on("deselect",e[36])),{key:t,first:null,c(){n=Be(),l&&de(l.$$.fragment),i=Be(),this.first=n},m(o,f){L(o,n,f),l&&ae(l,o,f),L(o,i,f),r=!0},p(o,f){if(e=o,f[0]&65536&&s!==(s=e[16])){if(l){ke();const a=l;N(a.$$.fragment,1,0,()=>{ce(a,1)}),Se()}s?(l=Wt(s,u(e)),l.$on("deselect",e[36]),de(l.$$.fragment),O(l.$$.fragment,1),ae(l,i.parentNode,i)):l=null}else if(s){const a={};f[0]&8&&(a.formatter=e[3]),f[0]&131072&&(a.item=e[51]),f[0]&512&&(a.isMultiple=e[9]),f[0]&256&&(a.inputValue=e[8]),l.$set(a)}},i(o){r||(l&&O(l.$$.fragment,o),r=!0)},o(o){l&&N(l.$$.fragment,o),r=!1},d(o){o&&(R(n),R(i)),l&&ce(l,o)}}}function sr(t){let e,n,l,i;const r=[Pf,Rf],s=[];function u(o,f){return o[7]?0:1}return e=u(t),n=s[e]=r[e](t),{c(){n.c(),l=Be()},m(o,f){s[e].m(o,f),L(o,l,f),i=!0},p(o,f){let a=e;e=u(o),e===a?s[e].p(o,f):(ke(),N(s[a],1,1,()=>{s[a]=null}),Se(),n=s[e],n?n.p(o,f):(n=s[e]=r[e](o),n.c()),O(n,1),n.m(l.parentNode,l))},i(o){i||(O(n),i=!0)},o(o){N(n),i=!1},d(o){o&&R(l),s[e].d(o)}}}function Rf(t){let e,n,l=ee(t[5]),i=[];for(let s=0;s<l.length;s+=1)i[s]=or(tr(t,l,s));const r=s=>N(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Be()},m(s,u){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(s,u);L(s,e,u),n=!0},p(s,u){if(u[0]&75065){l=ee(s[5]);let o;for(o=0;o<l.length;o+=1){const f=tr(s,l,o);i[o]?(i[o].p(f,u),O(i[o],1)):(i[o]=or(f),i[o].c(),O(i[o],1),i[o].m(e.parentNode,e))}for(ke(),o=l.length;o<i.length;o+=1)r(o);Se()}},i(s){if(!n){for(let u=0;u<l.length;u+=1)O(i[u]);n=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)N(i[u]);n=!1},d(s){s&&R(e),Re(i,s)}}}function Pf(t){let e,n,l={width:"100%",height:t[25],itemCount:t[5].length,itemSize:t[21],scrollToAlignment:"auto",scrollToIndex:!t[9]&&t[0]?parseInt(t[0]):null,$$slots:{item:[Lf,({style:i,index:r})=>({49:i,50:r}),({style:i,index:r})=>[0,(i?262144:0)|(r?524288:0)]]},$$scope:{ctx:t}};return e=new Ff({props:l}),t[39](e),{c(){de(e.$$.fragment)},m(i,r){ae(e,i,r),n=!0},p(i,r){const s={};r[0]&33554432&&(s.height=i[25]),r[0]&32&&(s.itemCount=i[5].length),r[0]&2097152&&(s.itemSize=i[21]),r[0]&513&&(s.scrollToIndex=!i[9]&&i[0]?parseInt(i[0]):null),r[0]&75065|r[1]&17563648&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(O(e.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),n=!1},d(i){t[39](null),ce(e,i)}}}function or(t){let e,n,l,i,r;var s=t[16];function u(o,f){return{props:{formatter:o[3],index:o[10].map[o[53]],isDisabled:o[51][o[13]],item:o[51],inputValue:o[8],disableHighlight:o[4]}}}return s&&(n=Wt(s,u(t)),n.$on("hover",t[40]),n.$on("select",t[41])),{c(){e=w("div"),n&&de(n.$$.fragment),l=H(),b(e,"data-pos",i=t[10].map[t[53]]),b(e,"class","sv-dd-item"),oe(e,"sv-dd-item-active",t[10].map[t[53]]==t[0]),oe(e,"sv-group-item",t[51].$isGroupItem),oe(e,"sv-group-header",t[51].$isGroupHeader)},m(o,f){L(o,e,f),n&&ae(n,e,null),m(e,l),r=!0},p(o,f){if(f[0]&65536&&s!==(s=o[16])){if(n){ke();const a=n;N(a.$$.fragment,1,0,()=>{ce(a,1)}),Se()}s?(n=Wt(s,u(o)),n.$on("hover",o[40]),n.$on("select",o[41]),de(n.$$.fragment),O(n.$$.fragment,1),ae(n,e,l)):n=null}else if(s){const a={};f[0]&8&&(a.formatter=o[3]),f[0]&1024&&(a.index=o[10].map[o[53]]),f[0]&8224&&(a.isDisabled=o[51][o[13]]),f[0]&32&&(a.item=o[51]),f[0]&256&&(a.inputValue=o[8]),f[0]&16&&(a.disableHighlight=o[4]),n.$set(a)}(!r||f[0]&1024&&i!==(i=o[10].map[o[53]]))&&b(e,"data-pos",i),(!r||f[0]&1025)&&oe(e,"sv-dd-item-active",o[10].map[o[53]]==o[0]),(!r||f[0]&32)&&oe(e,"sv-group-item",o[51].$isGroupItem),(!r||f[0]&32)&&oe(e,"sv-group-header",o[51].$isGroupHeader)},i(o){r||(n&&O(n.$$.fragment,o),r=!0)},o(o){n&&N(n.$$.fragment,o),r=!1},d(o){o&&R(e),n&&ce(n)}}}function Lf(t){let e,n,l,i;var r=t[16];function s(u,o){return{props:{formatter:u[3],index:u[10].map[u[50]],isDisabled:u[5][u[50]][u[13]],item:u[5][u[50]],inputValue:u[8],disableHighlight:u[4]}}}return r&&(n=Wt(r,s(t)),n.$on("hover",t[37]),n.$on("select",t[38])),{c(){e=w("div"),n&&de(n.$$.fragment),b(e,"slot","item"),b(e,"style",l=t[49]),b(e,"class","sv-dd-item"),oe(e,"sv-dd-item-active",t[50]==t[0]),oe(e,"sv-group-item",t[5][t[50]].$isGroupItem),oe(e,"sv-group-header",t[5][t[50]].$isGroupHeader)},m(u,o){L(u,e,o),n&&ae(n,e,null),i=!0},p(u,o){if(o[0]&65536&&r!==(r=u[16])){if(n){ke();const f=n;N(f.$$.fragment,1,0,()=>{ce(f,1)}),Se()}r?(n=Wt(r,s(u)),n.$on("hover",u[37]),n.$on("select",u[38]),de(n.$$.fragment),O(n.$$.fragment,1),ae(n,e,null)):n=null}else if(r){const f={};o[0]&8&&(f.formatter=u[3]),o[0]&1024|o[1]&524288&&(f.index=u[10].map[u[50]]),o[0]&8224|o[1]&524288&&(f.isDisabled=u[5][u[50]][u[13]]),o[0]&32|o[1]&524288&&(f.item=u[5][u[50]]),o[0]&256&&(f.inputValue=u[8]),o[0]&16&&(f.disableHighlight=u[4]),n.$set(f)}(!i||o[1]&262144&&l!==(l=u[49]))&&b(e,"style",l),(!i||o[0]&1|o[1]&524288)&&oe(e,"sv-dd-item-active",u[50]==u[0]),(!i||o[0]&32|o[1]&524288)&&oe(e,"sv-group-item",u[5][u[50]].$isGroupItem),(!i||o[0]&32|o[1]&524288)&&oe(e,"sv-group-header",u[5][u[50]].$isGroupHeader)},i(u){i||(n&&O(n.$$.fragment,u),i=!0)},o(u){n&&N(n.$$.fragment,u),i=!1},d(u){u&&R(e),n&&ce(n)}}}function ur(t){let e,n;return{c(){e=w("div"),n=Z(t[12]),b(e,"class","empty-list-row svelte-9227bl")},m(l,i){L(l,e,i),m(e,n)},p(l,i){i[0]&4096&&se(n,l[12])},d(l){l&&R(e)}}}function fr(t){let e,n,l,i=t[14](t[8])+"",r,s,u,o=t[26]!=t[0]&&ar(t);return{c(){e=w("div"),n=w("div"),l=new nl(!1),r=H(),o&&o.c(),l.a=r,b(n,"class","creatable-row svelte-9227bl"),oe(n,"active",t[26]==t[0]),oe(n,"is-disabled",t[6].includes(t[8])),b(e,"class","creatable-row-wrap svelte-9227bl")},m(f,a){L(f,e,a),m(e,n),l.m(i,n),m(n,r),o&&o.m(n,null),s||(u=[ve(n,"click",function(){Nt(t[28]("select",t[8]))&&t[28]("select",t[8]).apply(this,arguments)}),ve(n,"mouseenter",function(){Nt(t[28]("hover",t[10].last))&&t[28]("hover",t[10].last).apply(this,arguments)})],s=!0)},p(f,a){t=f,a[0]&16640&&i!==(i=t[14](t[8])+"")&&l.p(i),t[26]!=t[0]?o?o.p(t,a):(o=ar(t),o.c(),o.m(n,null)):o&&(o.d(1),o=null),a[0]&67108865&&oe(n,"active",t[26]==t[0]),a[0]&320&&oe(n,"is-disabled",t[6].includes(t[8]))},d(f){f&&R(e),o&&o.d(),s=!1,rt(u)}}}function ar(t){let e,n,l,i,r;return{c(){e=w("span"),n=w("kbd"),l=Z(t[15]),i=Z("+"),r=w("kbd"),r.textContent="Enter",b(n,"class","svelte-9227bl"),b(r,"class","svelte-9227bl"),b(e,"class","shortcut svelte-9227bl")},m(s,u){L(s,e,u),m(e,n),m(n,l),m(e,i),m(e,r)},p(s,u){u[0]&32768&&se(l,s[15])},d(s){s&&R(e)}}}function Hf(t){let e,n,l=t[18]&&t[20]&&lr(t);return{c(){l&&l.c(),e=Be()},m(i,r){l&&l.m(i,r),L(i,e,r),n=!0},p(i,r){i[18]&&i[20]?l?(l.p(i,r),r[0]&1310720&&O(l,1)):(l=lr(i),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(ke(),N(l,1,1,()=>{l=null}),Se())},i(i){n||(O(l),n=!0)},o(i){N(l),n=!1},d(i){i&&R(e),l&&l.d(i)}}}function Bf(t,e,n){let l,i,r,s=Y,u=()=>(s(),s=jt(G,F=>n(27,r=F)),G);t.$$.on_destroy.push(()=>s());let{lazyDropdown:o}=e,{creatable:f}=e,{maxReached:a=!1}=e,{dropdownIndex:c=0}=e,{renderer:h}=e,{disableHighlight:d}=e,{items:g=[]}=e,{alreadyCreated:p}=e,{virtualList:k}=e,{vlItemSize:M}=e,{vlHeight:v}=e,{inputValue:P}=e,{multiple:S}=e,{listIndex:I}=e,{hasDropdownOpened:G}=e;u();let{listMessage:D}=e,{disabledField:B}=e,{createLabel:V}=e,{metaKey:E}=e,{itemComponent:A}=e,{selection:J=null}=e;function K(F){if(k)return;if(c===null&&j){j.scrollTo(0,0);return}const Ie=X==null?void 0:X.querySelector(`[data-pos="${c}"]`);if(!Ie)return;const Ue=Ie.getBoundingClientRect(),Le=j.getBoundingClientRect(),Qe=Ie.offsetHeight/3,Ge=F&&F.center?j.offsetHeight/2:0;switch(!0){case Ie.offsetTop<j.scrollTop:n(23,j.scrollTop=Ie.offsetTop-Qe+Ge,j);break;case Ie.offsetTop+Ue.height>j.scrollTop+Le.height:n(23,j.scrollTop=Ie.offsetTop+Ue.height-j.offsetHeight+Qe+Ge,j);break}}function le(){return k?[j.offsetHeight,y]:[j.offsetHeight,X.firstElementChild.offsetHeight]}const Q=Tn();let X,j,ne=!1,$=!1,z=!o,ue=v,y=M,fe=v===null&&M===null,C;function q(F){if(!j&&!z)return;const Ie=Ju(j);Ie.bottom&&!Ie.top?n(23,j.parentElement.style.bottom=j.parentElement.parentElement.clientHeight+1+"px",j):(!F||Ie.top)&&n(23,j.parentElement.style.bottom="",j)}function te(){if(!C)return;const F=(Ue,Le)=>{const Qe=window.getComputedStyle(Ue);let{groups:{value:Ge,unit:ot}}=Qe[Le].match(/(?<value>\d+)(?<unit>[a-zA-Z]+)/);if(Ge=parseFloat(Ge),ot!=="px"){const vt=ot==="rem"?document.documentElement:j.parentElement.parentElement;Ge=parseFloat(window.getComputedStyle(vt).fontSize.match(/\d+/).shift())*Ge}return Ge};n(34,ue=F(j,"maxHeight")-F(j,"paddingTop")-F(j,"paddingBottom")),n(23,j.parentElement.style="opacity: 0; display: block",j);const Ie=C.$$.ctx[1].firstElementChild.firstElementChild;if(Ie){Ie.style="";const Ue=Ie.getBoundingClientRect().height,Le=C.$$.ctx[1].firstElementChild.firstElementChild.nextElementSibling;let Qe;if(Le&&(Le.style="",Qe=Le.getBoundingClientRect().height),Ue!==Qe){const Ge=g[0].$isGroupHeader?Ue:Qe,ot=g[0].$isGroupHeader?Qe:Ue;n(21,y=g.map(vt=>vt.$isGroupHeader?Ge:ot))}else n(21,y=Ue)}n(23,j.parentElement.style="",j)}let ye=()=>{},ie=null;zn(()=>{ye=G.subscribe(F=>{!z&&F&&n(20,z=!0),It().then(()=>{q(F),F&&K({center:!0})}),ie||(ie=()=>q(F)),document[F?"addEventListener":"removeEventListener"]("scroll",ie,{passive:!0})}),n(18,ne=!0)}),Xr(()=>ye());function U(F){Te.call(this,t,F)}function he(F){Te.call(this,t,F)}function De(F){Te.call(this,t,F)}function tt(F){Te.call(this,t,F)}function Ke(F){Xe[F?"unshift":"push"](()=>{C=F,n(24,C)})}function T(F){Te.call(this,t,F)}function Ye(F){Te.call(this,t,F)}function Je(F){Xe[F?"unshift":"push"](()=>{X=F,n(22,X)})}function st(F){Xe[F?"unshift":"push"](()=>{j=F,n(23,j)})}return t.$$set=F=>{"lazyDropdown"in F&&n(29,o=F.lazyDropdown),"creatable"in F&&n(1,f=F.creatable),"maxReached"in F&&n(2,a=F.maxReached),"dropdownIndex"in F&&n(0,c=F.dropdownIndex),"renderer"in F&&n(3,h=F.renderer),"disableHighlight"in F&&n(4,d=F.disableHighlight),"items"in F&&n(5,g=F.items),"alreadyCreated"in F&&n(6,p=F.alreadyCreated),"virtualList"in F&&n(7,k=F.virtualList),"vlItemSize"in F&&n(30,M=F.vlItemSize),"vlHeight"in F&&n(31,v=F.vlHeight),"inputValue"in F&&n(8,P=F.inputValue),"multiple"in F&&n(9,S=F.multiple),"listIndex"in F&&n(10,I=F.listIndex),"hasDropdownOpened"in F&&u(n(11,G=F.hasDropdownOpened)),"listMessage"in F&&n(12,D=F.listMessage),"disabledField"in F&&n(13,B=F.disabledField),"createLabel"in F&&n(14,V=F.createLabel),"metaKey"in F&&n(15,E=F.metaKey),"itemComponent"in F&&n(16,A=F.itemComponent),"selection"in F&&n(17,J=F.selection)},t.$$.update=()=>{t.$$.dirty[0]&32&&n(26,l=g.length),t.$$.dirty[0]&1835426&&(n(19,$=g.length<1&&(f?!P:!0)),k&&fe&&ne&&z&&($&&n(0,c=null),n(21,y=0),It().then(te).then(q))),t.$$.dirty[0]&2097184|t.$$.dirty[1]&8&&n(25,i=Math.min(ue,Array.isArray(y)?y.reduce((F,Ie)=>(F+=Ie,F),0):g.length*y))},[c,f,a,h,d,g,p,k,P,S,I,G,D,B,V,E,A,J,ne,$,z,y,X,j,C,i,l,r,Q,o,M,v,K,le,ue,U,he,De,tt,Ke,T,Ye,Je,st]}class Vf extends je{constructor(e){super(),Ve(this,e,Bf,Hf,Pe,{lazyDropdown:29,creatable:1,maxReached:2,dropdownIndex:0,renderer:3,disableHighlight:4,items:5,alreadyCreated:6,virtualList:7,vlItemSize:30,vlHeight:31,inputValue:8,multiple:9,listIndex:10,hasDropdownOpened:11,listMessage:12,disabledField:13,createLabel:14,metaKey:15,itemComponent:16,selection:17,scrollIntoView:32,getDimensions:33},null,[-1,-1])}get scrollIntoView(){return this.$$.ctx[32]}get getDimensions(){return this.$$.ctx[33]}}function jf(t){let e;return{c(){e=w("button"),e.innerHTML='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false" class="svelte-w7c5vi"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',b(e,"class","sv-item-btn svelte-w7c5vi"),b(e,"tabindex","-1"),b(e,"data-action","deselect"),b(e,"type","button")},m(n,l){L(n,e,l)},p:Y,i:Y,o:Y,d(n){n&&R(e)}}}class Gf extends je{constructor(e){super(),Ve(this,e,null,jf,Pe,{})}}const cr=t=>t.preventDefault();function qf(t,{item:e,index:n}){function l(r){const s=r.target.closest('[data-action="deselect"]')?"deselect":"select";t.dispatchEvent(new CustomEvent(s,{bubble:!0,detail:e}))}function i(){t.dispatchEvent(new CustomEvent("hover",{detail:n}))}return t.onmousedown=cr,t.onclick=l,t.addEventListener("mouseenter",i),{update(r){e=r.item,n=r.index},destroy(){t.removeEventListener("mousedown",cr),t.removeEventListener("click",l),t.removeEventListener("mouseenter",i)}}}function Wf(t){let e,n,l=(t[3]?`<div class="sv-item-content">${t[6](t[2],t[3],t[0])}</div>`:Bi(t[2],t[3],t[0],t[6],t[7]))+"",i,r,s,u,o,f,a=t[3]&&t[5]&&hr();return{c(){e=w("div"),n=new nl(!1),i=H(),a&&a.c(),n.a=i,b(e,"class","sv-item"),b(e,"title",r=t[2].$created?"Created item":""),oe(e,"is-disabled",t[4])},m(c,h){L(c,e,h),n.m(l,e),m(e,i),a&&a.m(e,null),u=!0,o||(f=[El(s=qf.call(null,e,{item:t[2],index:t[1]})),ve(e,"select",t[9]),ve(e,"deselect",t[10]),ve(e,"hover",t[11])],o=!0)},p(c,h){(!u||h&205)&&l!==(l=(c[3]?`<div class="sv-item-content">${c[6](c[2],c[3],c[0])}</div>`:Bi(c[2],c[3],c[0],c[6],c[7]))+"")&&n.p(l),c[3]&&c[5]?a?h&40&&O(a,1):(a=hr(),a.c(),O(a,1),a.m(e,null)):a&&(ke(),N(a,1,1,()=>{a=null}),Se()),(!u||h&4&&r!==(r=c[2].$created?"Created item":""))&&b(e,"title",r),s&&Nt(s.update)&&h&6&&s.update.call(null,{item:c[2],index:c[1]}),(!u||h&16)&&oe(e,"is-disabled",c[4])},i(c){u||(O(a),u=!0)},o(c){N(a),u=!1},d(c){c&&R(e),a&&a.d(),o=!1,rt(f)}}}function Uf(t){let e,n,l=t[2].label+"",i,r,s;return{c(){e=w("div"),n=w("b"),i=Z(l),b(e,"class","optgroup-header svelte-1e087o6")},m(u,o){L(u,e,o),m(e,n),m(n,i),r||(s=ve(e,"mousedown",zl(t[8])),r=!0)},p(u,o){o&4&&l!==(l=u[2].label+"")&&se(i,l)},i:Y,o:Y,d(u){u&&R(e),r=!1,s()}}}function hr(t){let e,n;return e=new Gf({}),{c(){de(e.$$.fragment)},m(l,i){ae(e,l,i),n=!0},i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function Kf(t){let e,n,l,i;const r=[Uf,Wf],s=[];function u(o,f){return o[2].$isGroupHeader?0:1}return e=u(t),n=s[e]=r[e](t),{c(){n.c(),l=Be()},m(o,f){s[e].m(o,f),L(o,l,f),i=!0},p(o,[f]){let a=e;e=u(o),e===a?s[e].p(o,f):(ke(),N(s[a],1,1,()=>{s[a]=null}),Se(),n=s[e],n?n.p(o,f):(n=s[e]=r[e](o),n.c()),O(n,1),n.m(l.parentNode,l))},i(o){i||(O(n),i=!0)},o(o){N(n),i=!1},d(o){o&&R(l),s[e].d(o)}}}function Qf(t,e,n){let{inputValue:l}=e,{index:i=-1}=e,{item:r={}}=e,{isSelected:s=!1}=e,{isDisabled:u=!1}=e,{isMultiple:o=!1}=e,{formatter:f=null}=e,{disableHighlight:a=!1}=e;function c(p){Te.call(this,t,p)}function h(p){Te.call(this,t,p)}function d(p){Te.call(this,t,p)}function g(p){Te.call(this,t,p)}return t.$$set=p=>{"inputValue"in p&&n(0,l=p.inputValue),"index"in p&&n(1,i=p.index),"item"in p&&n(2,r=p.item),"isSelected"in p&&n(3,s=p.isSelected),"isDisabled"in p&&n(4,u=p.isDisabled),"isMultiple"in p&&n(5,o=p.isMultiple),"formatter"in p&&n(6,f=p.formatter),"disableHighlight"in p&&n(7,a=p.disableHighlight)},[l,i,r,s,u,o,f,a,c,h,d,g]}class dr extends je{constructor(e){super(),Ve(this,e,Qf,Kf,Pe,{inputValue:0,index:1,item:2,isSelected:3,isDisabled:4,isMultiple:5,formatter:6,disableHighlight:7})}}function mr(t,e,n){const l=t.slice();return l[120]=e[n],l}const Zf=t=>({}),gr=t=>({}),Xf=t=>({}),_r=t=>({}),Yf=t=>({hasDropdownOpened:t[1]&8388608}),br=t=>({slot:"indicator-icon",hasDropdownOpened:t[54]}),Jf=t=>({selectedOptions:t[1]&1,inputValue:t[1]&16}),pr=t=>({slot:"clear-icon",selectedOptions:t[31],inputValue:t[35]});function xf(t){let e,n;const l=t[96].icon,i=_t(l,t,t[101],gr);return{c(){e=w("div"),i&&i.c(),b(e,"slot","icon"),b(e,"class","icon-slot svelte-17904zl")},m(r,s){L(r,e,s),i&&i.m(e,null),n=!0},p(r,s){i&&i.p&&(!n||s[3]&256)&&pt(i,l,r,r[101],n?bt(l,r[101],s,Zf):wt(r[101]),gr)},i(r){n||(O(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&R(e),i&&i.d(r)}}}function $f(t){let e,n;const l=t[96]["control-end"],i=_t(l,t,t[101],_r);return{c(){e=w("div"),i&&i.c(),b(e,"slot","control-end")},m(r,s){L(r,e,s),i&&i.m(e,null),n=!0},p(r,s){i&&i.p&&(!n||s[3]&256)&&pt(i,l,r,r[101],n?bt(l,r[101],s,Xf):wt(r[101]),_r)},i(r){n||(O(i,r),n=!0)},o(r){N(i,r),n=!1},d(r){r&&R(e),i&&i.d(r)}}}function ea(t){let e,n;return{c(){e=We("svg"),n=We("path"),b(n,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),b(e,"width","20"),b(e,"height","20"),b(e,"class","indicator-icon svelte-17904zl"),b(e,"viewBox","0 0 20 20"),b(e,"aria-hidden","true"),b(e,"focusable","false")},m(l,i){L(l,e,i),m(e,n)},p:Y,d(l){l&&R(e)}}}function ta(t){let e;const n=t[96]["indicator-icon"],l=_t(n,t,t[101],br),i=l||ea();return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){l&&l.p&&(!e||s[1]&8388608|s[3]&256)&&pt(l,n,r,r[101],e?bt(n,r[101],s,Yf):wt(r[101]),br)},i(r){e||(O(i,r),e=!0)},o(r){N(i,r),e=!1},d(r){i&&i.d(r)}}}function wr(t){let e,n;return{c(){e=We("svg"),n=We("path"),b(n,"d","M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"),b(e,"class","indicator-icon svelte-17904zl"),b(e,"height","20"),b(e,"width","20"),b(e,"viewBox","0 0 20 20"),b(e,"aria-hidden","true"),b(e,"focusable","false")},m(l,i){L(l,e,i),m(e,n)},d(l){l&&R(e)}}}function na(t){let e,n=t[31].length&&wr();return{c(){n&&n.c(),e=Be()},m(l,i){n&&n.m(l,i),L(l,e,i)},p(l,i){l[31].length?n||(n=wr(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){l&&R(e),n&&n.d(l)}}}function la(t){let e;const n=t[96]["clear-icon"],l=_t(n,t,t[101],pr),i=l||na(t);return{c(){i&&i.c()},m(r,s){i&&i.m(r,s),e=!0},p(r,s){l?l.p&&(!e||s[1]&17|s[3]&256)&&pt(l,n,r,r[101],e?bt(n,r[101],s,Jf):wt(r[101]),pr):i&&i.p&&(!e||s[1]&1)&&i.p(r,e?s:[-1,-1,-1,-1])},i(r){e||(O(i,r),e=!0)},o(r){N(i,r),e=!1},d(r){i&&i.d(r)}}}function vr(t){let e,n,l,i=ee(t[31]),r=[];for(let s=0;s<i.length;s+=1)r[s]=yr(mr(t,i,s));return{c(){e=w("select");for(let s=0;s<r.length;s+=1)r[s].c();b(e,"id",t[43]),b(e,"name",t[2]),e.multiple=t[1],b(e,"class","sv-hidden-element svelte-17904zl"),b(e,"tabindex","-1"),e.required=t[4],e.disabled=t[0]},m(s,u){L(s,e,u);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);n||(l=El(t[44].call(null,e,t[45])),n=!0)},p(s,u){if(u[0]&419430400|u[1]&1){i=ee(s[31]);let o;for(o=0;o<i.length;o+=1){const f=mr(s,i,o);r[o]?r[o].p(f,u):(r[o]=yr(f),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}u[0]&4&&b(e,"name",s[2]),u[0]&2&&(e.multiple=s[1]),u[0]&16&&(e.required=s[4]),u[0]&1&&(e.disabled=s[0])},d(s){s&&R(e),Re(r,s),n=!1,l()}}}function yr(t){let e,n=t[120][t[28]]+"",l,i;return{c(){e=w("option"),l=Z(n),e.__value=i=t[120][t[24]?t[28]:t[27]],qt(e,e.__value),e.selected=!0},m(r,s){L(r,e,s),m(e,l)},p(r,s){s[0]&268435456|s[1]&1&&n!==(n=r[120][r[28]]+"")&&se(l,n),s[0]&419430400|s[1]&1&&i!==(i=r[120][r[24]?r[28]:r[27]])&&(e.__value=i,qt(e,e.__value))},d(r){r&&R(e)}}}function ia(t){let e,n,l,i,r,s,u,o={renderer:t[41],disabled:t[0],clearable:t[9],searchable:t[8],placeholder:t[7],multiple:t[1],inputId:t[3]||t[43],resetOnBlur:t[11],collapseSelection:t[15]?tl.collapseSelectionFn.bind(t[30]):null,inputValue:t[46],hasFocus:t[47],hasDropdownOpened:t[54],selectedOptions:t[31],isFetchingData:t[29],dndzone:t[12],currentValueField:t[27],isAndroid:t[38],isIOS:t[37],alwaysCollapsed:t[16],itemComponent:t[14],$$slots:{"clear-icon":[la],"indicator-icon":[ta,({hasDropdownOpened:c})=>({54:c}),({hasDropdownOpened:c})=>[0,c?8388608:0]],"control-end":[$f],icon:[xf]},$$scope:{ctx:t}};n=new Mf({props:o}),t[97](n),n.$on("deselect",t[49]),n.$on("keydown",t[51]),n.$on("paste",t[52]),n.$on("consider",t[53]),n.$on("finalize",t[53]),n.$on("blur",t[98]);let f={renderer:t[41],disableHighlight:t[10],creatable:t[17],maxReached:t[34],alreadyCreated:t[39],virtualList:t[19],vlHeight:t[20],vlItemSize:t[21],lazyDropdown:t[19]||t[18],multiple:t[1],dropdownIndex:t[26],items:t[33],listIndex:t[32],inputValue:t[40],hasDropdownOpened:t[54],listMessage:t[42],disabledField:t[6],createLabel:t[30].createRowLabel,metaKey:t[37]?"⌘":"Ctrl",selection:t[15]&&t[16]?t[31]:null,itemComponent:t[13]};i=new Vf({props:f}),t[99](i),i.$on("select",t[48]),i.$on("deselect",t[49]),i.$on("hover",t[50]),i.$on("createoption",t[100]);let a=t[2]&&!t[5]&&vr(t);return{c(){e=w("div"),de(n.$$.fragment),l=H(),de(i.$$.fragment),r=H(),a&&a.c(),b(e,"class",s=Vl(`svelecte ${t[22]}`)+" svelte-17904zl"),b(e,"style",t[23]),oe(e,"is-disabled",t[0])},m(c,h){L(c,e,h),ae(n,e,null),m(e,l),ae(i,e,null),m(e,r),a&&a.m(e,null),u=!0},p(c,h){const d={};h[1]&1024&&(d.renderer=c[41]),h[0]&1&&(d.disabled=c[0]),h[0]&512&&(d.clearable=c[9]),h[0]&256&&(d.searchable=c[8]),h[0]&128&&(d.placeholder=c[7]),h[0]&2&&(d.multiple=c[1]),h[0]&8&&(d.inputId=c[3]||c[43]),h[0]&2048&&(d.resetOnBlur=c[11]),h[0]&1073774592&&(d.collapseSelection=c[15]?tl.collapseSelectionFn.bind(c[30]):null),h[1]&1&&(d.selectedOptions=c[31]),h[0]&536870912&&(d.isFetchingData=c[29]),h[0]&4096&&(d.dndzone=c[12]),h[0]&134217728&&(d.currentValueField=c[27]),h[1]&128&&(d.isAndroid=c[38]),h[1]&64&&(d.isIOS=c[37]),h[0]&65536&&(d.alwaysCollapsed=c[16]),h[0]&16384&&(d.itemComponent=c[14]),h[1]&8388625|h[3]&256&&(d.$$scope={dirty:h,ctx:c}),n.$set(d);const g={};h[1]&1024&&(g.renderer=c[41]),h[0]&1024&&(g.disableHighlight=c[10]),h[0]&131072&&(g.creatable=c[17]),h[1]&8&&(g.maxReached=c[34]),h[1]&256&&(g.alreadyCreated=c[39]),h[0]&524288&&(g.virtualList=c[19]),h[0]&1048576&&(g.vlHeight=c[20]),h[0]&2097152&&(g.vlItemSize=c[21]),h[0]&786432&&(g.lazyDropdown=c[19]||c[18]),h[0]&2&&(g.multiple=c[1]),h[0]&67108864&&(g.dropdownIndex=c[26]),h[1]&4&&(g.items=c[33]),h[1]&2&&(g.listIndex=c[32]),h[1]&512&&(g.inputValue=c[40]),h[1]&2048&&(g.listMessage=c[42]),h[0]&64&&(g.disabledField=c[6]),h[0]&1073741824&&(g.createLabel=c[30].createRowLabel),h[1]&64&&(g.metaKey=c[37]?"⌘":"Ctrl"),h[0]&98304|h[1]&1&&(g.selection=c[15]&&c[16]?c[31]:null),h[0]&8192&&(g.itemComponent=c[13]),i.$set(g),c[2]&&!c[5]?a?a.p(c,h):(a=vr(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!u||h[0]&4194304&&s!==(s=Vl(`svelecte ${c[22]}`)+" svelte-17904zl"))&&b(e,"class",s),(!u||h[0]&8388608)&&b(e,"style",c[23]),(!u||h[0]&4194305)&&oe(e,"is-disabled",c[0])},i(c){u||(O(n.$$.fragment,c),O(i.$$.fragment,c),u=!0)},o(c){N(n.$$.fragment,c),N(i.$$.fragment,c),u=!1},d(c){c&&R(e),t[97](null),ce(n),t[99](null),ce(i),a&&a.d()}}}const kr={default(t){return rf(t[this.label])}},tl=we,ra="select-navigate";function sa(t,e,n){let l,i,r,s,u,o,f,a,c,h,d,{$$slots:g={},$$scope:p}=e,{name:k="svelecte"}=e,{inputId:M=null}=e,{required:v=!1}=e,{hasAnchor:P=!1}=e,{disabled:S=we.disabled}=e,{options:I=[]}=e,{valueField:G=we.valueField}=e,{labelField:D=we.labelField}=e,{groupLabelField:B=we.groupLabelField}=e,{groupItemsField:V=we.groupItemsField}=e,{disabledField:E=we.disabledField}=e,{placeholder:A="Select"}=e,{searchable:J=we.searchable}=e,{clearable:K=we.clearable}=e,{renderer:le=null}=e,{disableHighlight:Q=!1}=e,{highlightFirstItem:X=we.highlightFirstItem}=e,{selectOnTab:j=we.selectOnTab}=e,{resetOnBlur:ne=we.resetOnBlur}=e,{resetOnSelect:$=we.resetOnSelect}=e,{closeAfterSelect:z=we.closeAfterSelect}=e,{dndzone:ue=()=>({noop:!0,destroy:()=>{}})}=e,{validatorAction:y=null}=e,{dropdownItem:fe=dr}=e,{controlItem:C=dr}=e,{multiple:q=we.multiple}=e,{max:te=we.max}=e,{collapseSelection:ye=we.collapseSelection}=e,{alwaysCollapsed:ie=we.alwaysCollapsed}=e,{creatable:U=we.creatable}=e,{creatablePrefix:he=we.creatablePrefix}=e,{allowEditing:De=we.allowEditing}=e,{keepCreated:tt=we.keepCreated}=e,{delimiter:Ke=we.delimiter}=e,{createFilter:T=null}=e,{createTransform:Ye=null}=e,{fetch:Je=null}=e,{fetchMode:st="auto"}=e,{fetchCallback:F=we.fetchCallback}=e,{fetchResetOnBlur:Ie=!0}=e,{fetchDebounceTime:Ue=500}=e,{minQuery:Le=we.minQuery}=e,{lazyDropdown:Qe=we.lazyDropdown}=e,{virtualList:Ge=we.virtualList}=e,{vlHeight:ot=we.vlHeight}=e,{vlItemSize:vt=we.vlItemSize}=e,{searchField:Ct=null}=e,{sortField:Et=null}=e,{disableSifter:Ft=!1}=e,{class:wn="svelecte-control"}=e,{style:Ut=null}=e,{i18n:yt=null}=e,{readSelection:ht=null}=e,{value:Ce=null}=e,{labelAsValue:xe=!1}=e,{valueAsObject:ut=we.valueAsObject}=e;const nn=_=>{Rt.focusControl(_)},ln=_=>{if(!_e.length)return q?[]:null;const x=_e.map(pe=>_?pe[xe?Ne:be]:Object.assign({},pe));return q?x:x[0]},rn=(_,x)=>{Zt(_),x&&ge()},sn=_=>{zt(),ge(),_&&(n(0,S=!0),n(58,Je=null))},on=`sv-select-${Math.random()}`.replace(".",""),Ot=Tn(),me={optionsWithGroups:!1,isOptionArray:I&&I.length&&typeof I[0]!="object",optionProps:[],valueField:G,labelField:D,labelAsValue:xe,optLabel:B,optItems:V};Je&&Ce&&ut&&(!I||I&&I.length===0)&&(I=Array.isArray(Ce)?Ce:[Ce]);let ft=!1,Ze,Rt,Pt=!1,re=null,be=G||Bn("value",I,me),Ne=D||Bn("label",I,me),Kt=!1,vn=!1,Lt=y?y.shift():()=>({destroy:()=>{}}),un=y||[],Oe=null;me.valueField=be,me.labelField=Ne,me.optionProps=Ce&&ut&&(!(q&&Array.isArray(Ce))||Ce.length>0)?vs(q?Ce.slice(0,1).shift():Ce):[be,Ne],q=k&&!q?k.endsWith("[]"):q,T||(T=nf);const dt=In("");Gt(t,dt,_=>n(35,c=_));const yn=In(!1);Gt(t,yn,_=>n(108,d=_));const $e=In(!1);Gt(t,$e,_=>n(95,h=_));let at=!1,it=st==="init"||st==="auto"&&typeof Je=="string"&&Je.indexOf("[query]")===-1,et=it?Ce:null,Qt=null;function Ht(){return ft&&at&&(Vt&&![0,4].includes(Vt.readyState)&&Vt.abort(),n(29,at=!1)),!0}function ct(_){if(Qt&&(Qt(),Qt=null),!_)return null;Ht(),it&&qe&&(et=qe);const x=typeof _=="string"?xu(_):_;n(92,it=st==="init"||st==="auto"&&typeof _=="string"&&_.indexOf("[query]")===-1);const pe=$u(He=>{if(He&&!c.length){n(29,at=!1);return}x(He,F).then(ze=>{Array.isArray(ze)||(console.warn("[Svelecte]:Fetch - array expected, invalid property provided:",ze),ze=[]),n(55,I=ze)}).catch(()=>{n(55,I=[])}).finally(()=>{n(29,at=!1),d&&$e.set(!0),n(42,o=Ae.fetchEmpty),It().then(()=>{it&&et&&(Zt(et),et=null),Ot("fetch",I)})})},Ue);return it?(typeof _=="string"&&_.indexOf("[parent]")!==-1||(n(29,at=!0),n(55,I=[]),pe(null)),null):(Qt=dt.subscribe(He=>{if(Ht(),!He){ft&&Ie&&n(55,I=[]);return}He&&He.length<Le||(!it&&$e.set(!1),n(29,at=!0),pe(He))}),pe)}let qe=Ce,Ae=tl.i18n,_e=Ce!==null?sf.call(I,Ce,ut,me):[],Ee=_e.reduce((_,x)=>(_.add(x[be]),_),new Set),kt=[""],W=I;function ge(){It().then(()=>{Ot("change",ht),Oe&&(Oe.dispatchEvent(new Event("input")),Oe.dispatchEvent(new Event("change")))})}function nt(_){Ot("createoption",_)}function Zt(_){if(zt(),_){let x=Array.isArray(_)?_:[_];const pe=me.labelAsValue?Ne:be;if(x=x.reduce((ze,mt)=>{if(U&&ut&&mt.$created)return ze.push(mt),ze;const St=l.find(Hl=>ut?Hl[pe]==mt[pe]:Hl[pe]==mt);return St&&ze.push(St),ze},[]),!(x.every(kn)&&(q?_.length===x.length:x.length>0))){console.warn('[Svelecte]: provided "value" property is invalid',_),n(59,Ce=q?[]:null),n(60,ht=Ce),Ot("invalidValue",_);return}if(n(60,ht=Array.isArray(_)?x:x.shift()),!h&&Ge){let ze=$e.subscribe(mt=>{mt&&(n(26,re),n(66,X),n(35,c),n(32,u),n(1,q),n(95,h),n(31,_e),n(94,l),n(27,be),n(25,Ze),n(33,r),n(17,U),n(90,me),n(55,I),n(91,ft),n(113,W),n(61,G),n(62,D),n(28,Ne),n(34,i),n(83,Ft),n(112,Ee),n(81,Ct),n(82,Et),n(24,xe),n(71,te),ze&&ze())})}}n(93,qe=_)}function kn(_){if(!_||q&&i)return!1;if(!Ee.has(_[be])){if(typeof _=="string"){if(!U||(_=T(_,I),kt.includes(_)))return;!Je&&kt.push(_),_=Ye(_,he,be,Ne),_.$created=!0,tt&&n(55,I=[...I,_]),nt(_)}return q?(_e.push(_),n(31,_e),Ee.add(_[be])):(n(31,_e=[_]),Ee.clear(),Ee.add(_[be]),n(26,re=I.indexOf(_))),n(94,l),n(55,I),n(90,me),n(91,ft),n(113,W),n(61,G),n(27,be),n(62,D),n(28,Ne),n(24,xe),!0}}function Me(_){_.$created&&ul&&De&&(kt.splice(kt.findIndex(pe=>pe===_[xe?Ne:be]),1),n(39,kt),tt&&(I.splice(I.findIndex(pe=>pe===_),1),n(55,I)),Fe(dt,c=_[Ne].replace(he,""),c));const x=_[be];Ee.delete(x),_e.splice(_e.findIndex(pe=>pe[be]==x),1),n(31,_e),n(94,l),n(55,I),n(90,me),n(91,ft),n(113,W),n(61,G),n(27,be),n(62,D),n(28,Ne),n(24,xe)}function zt(){Ee.clear(),n(31,_e=[]),n(34,i=!1),n(94,l),n(55,I),n(90,me),n(91,ft),n(113,W),n(61,G),n(27,be),n(62,D),n(28,Ne),n(24,xe)}function Nn(_,x){x=x||_.detail,!(S||x[E]||x.$isGroupHeader)&&(kn(x),(q&&$||!q)&&Fe(dt,c="",c),!q||z?Fe($e,h=!1,h):It().then(()=>{n(26,re=i?null:u.next(re-1,!0))}),ge())}function ol(_,x){S||(x=x||_.detail,x?Me(x):zt(),It().then(Rt.focusControl),ge(),(q&&_e.length===0||!q)&&(n(26,re=X?0:null),It().then(Ze.scrollIntoView)))}function ys(_){if(Pt){Pt=!1;return}n(26,re=_.detail)}let ul=!1;function ks(_){if(_=_.detail,U&&Ke.indexOf(_.key)>-1){c.length>0&&Nn(null,c),_.preventDefault();return}const x=j&&h&&!_.shiftKey?"Tab":"No-tab";let pe=Kt?_.metaKey:_.ctrlKey,He=["PageUp","PageDown"].includes(_.key);switch(_.key){case"End":if(c.length!==0)return;n(26,re=u.first);case"PageDown":if(He){const[mt,St]=Ze.getDimensions();n(26,re=Math.ceil((St*re+mt)/St))}case"ArrowUp":if(_.preventDefault(),!h){Fe($e,h=!0,h),re===null&&n(26,re=u.first);return}n(26,re=u.prev(re)),It().then(Ze.scrollIntoView),Pt=!0;break;case"Home":if(c.length!==0||c.length===0&&r.length===0)return;n(26,re=u.last);case"PageUp":if(He){const[mt,St]=Ze.getDimensions();n(26,re=Math.floor((St*re-mt)/St))}case"ArrowDown":if(_.preventDefault(),!h){Fe($e,h=!0,h),re===null&&n(26,re=u.first);return}n(26,re=re===null?u.first:u.next(re)),It().then(Ze.scrollIntoView),Pt=!0;break;case"Escape":h&&(_.preventDefault(),_.stopPropagation()),c||Fe($e,h=!1,h),Ht(),Fe(dt,c="",c);break;case x:case"Enter":if(!h){_.key!==x&&Ot("enterKey",_);return}let ze=pe?null:r[re];if(U&&c&&(ze=!ze||pe?c:ze,pe=!1),!pe&&ze&&Nn(null,ze),r.length<=re&&n(26,re=s>0?s:u.first),!ze&&_e.length){Fe($e,h=!1,h),_.key!==x&&Ot("enterKey",_);return}(_.key!==x||_.key===x&&j!==ra)&&_.preventDefault();break;case" ":!Je&&!h&&(Fe($e,h=!0,h),_.preventDefault()),!q&&_e.length&&_.preventDefault();break;case"Backspace":ul=!0;case"Delete":c===""&&_e.length&&(pe?ol({}):ol(null,_e[_e.length-1]),_.preventDefault()),ul=!1;default:!pe&&!["Tab","Shift"].includes(_.key)&&!h&&!at&&Fe($e,h=!0,h),!q&&_e.length&&_.key!=="Tab"&&(_.preventDefault(),_.stopPropagation())}}function Ss(_){if(U){_.preventDefault();const x=new RegExp("([^"+Ke+"\\n]+)","g"),pe=_.clipboardData.getData("text/plain").replace(/\//g,"/").replace(/\t/g," "),He=pe.match(x);He.length===1&&pe.indexOf(",")===-1&&Fe(dt,c=He.pop().trim(),c),He.forEach(ze=>Nn(null,ze.trim()))}}function Is(_){n(31,_e=_.detail.items)}zn(()=>{if(n(91,ft=!0),U){const _=me.labelAsValue?Ne:be;n(39,kt=[""].concat(l.map(x=>x[_]).filter(x=>x)))}if(qe&&!q){const _=xe?Ne:be,x=ut?qe[_]:qe;n(26,re=l.findIndex(pe=>pe[_]===x))}n(37,Kt=ef()),n(38,vn=tf()),k&&!P&&(Oe=document.getElementById(on))});function Ms(_){Xe[_?"unshift":"push"](()=>{Rt=_,n(36,Rt)})}function As(_){Te.call(this,t,_)}function Cs(_){Xe[_?"unshift":"push"](()=>{Ze=_,n(25,Ze)})}function Es(_){Te.call(this,t,_)}return t.$$set=_=>{"name"in _&&n(2,k=_.name),"inputId"in _&&n(3,M=_.inputId),"required"in _&&n(4,v=_.required),"hasAnchor"in _&&n(5,P=_.hasAnchor),"disabled"in _&&n(0,S=_.disabled),"options"in _&&n(55,I=_.options),"valueField"in _&&n(61,G=_.valueField),"labelField"in _&&n(62,D=_.labelField),"groupLabelField"in _&&n(63,B=_.groupLabelField),"groupItemsField"in _&&n(64,V=_.groupItemsField),"disabledField"in _&&n(6,E=_.disabledField),"placeholder"in _&&n(7,A=_.placeholder),"searchable"in _&&n(8,J=_.searchable),"clearable"in _&&n(9,K=_.clearable),"renderer"in _&&n(65,le=_.renderer),"disableHighlight"in _&&n(10,Q=_.disableHighlight),"highlightFirstItem"in _&&n(66,X=_.highlightFirstItem),"selectOnTab"in _&&n(67,j=_.selectOnTab),"resetOnBlur"in _&&n(11,ne=_.resetOnBlur),"resetOnSelect"in _&&n(68,$=_.resetOnSelect),"closeAfterSelect"in _&&n(69,z=_.closeAfterSelect),"dndzone"in _&&n(12,ue=_.dndzone),"validatorAction"in _&&n(70,y=_.validatorAction),"dropdownItem"in _&&n(13,fe=_.dropdownItem),"controlItem"in _&&n(14,C=_.controlItem),"multiple"in _&&n(1,q=_.multiple),"max"in _&&n(71,te=_.max),"collapseSelection"in _&&n(15,ye=_.collapseSelection),"alwaysCollapsed"in _&&n(16,ie=_.alwaysCollapsed),"creatable"in _&&n(17,U=_.creatable),"creatablePrefix"in _&&n(72,he=_.creatablePrefix),"allowEditing"in _&&n(73,De=_.allowEditing),"keepCreated"in _&&n(74,tt=_.keepCreated),"delimiter"in _&&n(75,Ke=_.delimiter),"createFilter"in _&&n(56,T=_.createFilter),"createTransform"in _&&n(57,Ye=_.createTransform),"fetch"in _&&n(58,Je=_.fetch),"fetchMode"in _&&n(76,st=_.fetchMode),"fetchCallback"in _&&n(77,F=_.fetchCallback),"fetchResetOnBlur"in _&&n(78,Ie=_.fetchResetOnBlur),"fetchDebounceTime"in _&&n(79,Ue=_.fetchDebounceTime),"minQuery"in _&&n(80,Le=_.minQuery),"lazyDropdown"in _&&n(18,Qe=_.lazyDropdown),"virtualList"in _&&n(19,Ge=_.virtualList),"vlHeight"in _&&n(20,ot=_.vlHeight),"vlItemSize"in _&&n(21,vt=_.vlItemSize),"searchField"in _&&n(81,Ct=_.searchField),"sortField"in _&&n(82,Et=_.sortField),"disableSifter"in _&&n(83,Ft=_.disableSifter),"class"in _&&n(22,wn=_.class),"style"in _&&n(23,Ut=_.style),"i18n"in _&&n(84,yt=_.i18n),"readSelection"in _&&n(60,ht=_.readSelection),"value"in _&&n(59,Ce=_.value),"labelAsValue"in _&&n(24,xe=_.labelAsValue),"valueAsObject"in _&&n(85,ut=_.valueAsObject),"$$scope"in _&&n(101,p=_.$$scope)},t.$$.update=()=>{if(t.$$.dirty[1]&67108864&&(Ye||n(57,Ye=lf)),t.$$.dirty[1]&134217728&&ct(Je),t.$$.dirty[0]&1&&S&&$e.set(!1),t.$$.dirty[2]&4194304&&yt&&typeof yt=="object"&&n(30,Ae=Object.assign({},tl.i18n,yt)),t.$$.dirty[0]&402653184|t.$$.dirty[1]&1090519040|t.$$.dirty[2]&805306369&&ft&&W!==I&&I.length){const _=Bn("value",I||null,me),x=Bn("label",I||null,me);!G&&be!==_&&n(90,me.valueField=n(27,be=_),me),!D&&Ne!==x&&n(90,me.labelField=n(28,Ne=x),me)}if(t.$$.dirty[0]&16777216&&n(90,me.labelAsValue=xe,me),t.$$.dirty[1]&16777216|t.$$.dirty[2]&268435456&&n(94,l=of(I,me)),t.$$.dirty[0]&402653186|t.$$.dirty[1]&1|t.$$.dirty[2]&276824064|t.$$.dirty[3]&1){const _=_e.map(He=>{const{$disabled:ze,$isGroupItem:mt,...St}=He;return St}),x=q?_:_.length?_[0]:null,pe=me.labelAsValue?Ne:be;ut?n(93,qe=x):n(93,qe=q?x.map(He=>He[pe]):_e.length?x[pe]:null),n(59,Ce=qe),n(60,ht=x)}t.$$.dirty[1]&268435456|t.$$.dirty[3]&1&&qe!==Ce&&Zt(Ce),t.$$.dirty[1]&1|t.$$.dirty[2]&512&&n(34,i=te&&_e.length==te),t.$$.dirty[0]&2|t.$$.dirty[1]&24|t.$$.dirty[2]&272105472|t.$$.dirty[3]&2&&n(33,r=i?[]:ff(l,Ft?null:c,q?Ee:!1,Ct,Et,me)),t.$$.dirty[0]&131072|t.$$.dirty[1]&20&&(s=U&&c?r.length:r.length-1),t.$$.dirty[0]&131072|t.$$.dirty[1]&20|t.$$.dirty[2]&268435456&&n(32,u=cf(r,U&&c,me)),t.$$.dirty[0]&67108864|t.$$.dirty[1]&18|t.$$.dirty[2]&16&&(re===null&&(X||c)?n(26,re=u.first):re>u.last?n(26,re=u.last):re<u.first&&n(26,re=u.first)),t.$$.dirty[0]&167772162|t.$$.dirty[1]&1|t.$$.dirty[3]&6&&!q&&h===!1&&_e.length&&(n(26,re=l.findIndex(_=>_[be]===_e[0][be])),Ze&&It().then(Ze.scrollIntoView)),t.$$.dirty[0]&1610612736|t.$$.dirty[1]&134217756|t.$$.dirty[2]&1074004480&&n(42,o=i?Ae.max(te):c.length&&r.length===0&&Le<=1?Ae.nomatch:Je?Le<=1?it?at?Ae.fetchInit:Ae.empty:Ae.fetchBefore:Ae.fetchQuery(Le,c.length):Ae.empty),t.$$.dirty[0]&268435456|t.$$.dirty[2]&8&&n(41,f=typeof le=="function"?le:kr[le]||kr.default.bind({label:Ne})),t.$$.dirty[1]&50331664&&n(40,a=T(c,I))},[S,q,k,M,v,P,E,A,J,K,Q,ne,ue,fe,C,ye,ie,U,Qe,Ge,ot,vt,wn,Ut,xe,Ze,re,be,Ne,at,Ae,_e,u,r,i,c,Rt,Kt,vn,kt,a,f,o,on,Lt,un,dt,yn,Nn,ol,ys,ks,Ss,Is,$e,I,T,Ye,Je,Ce,ht,G,D,B,V,le,X,j,$,z,y,te,he,De,tt,Ke,st,F,Ie,Ue,Le,Ct,Et,Ft,yt,ut,nn,ln,rn,sn,me,ft,it,qe,l,h,g,Ms,As,Cs,Es,p]}class oa extends je{constructor(e){super(),Ve(this,e,sa,ia,Pe,{name:2,inputId:3,required:4,hasAnchor:5,disabled:0,options:55,valueField:61,labelField:62,groupLabelField:63,groupItemsField:64,disabledField:6,placeholder:7,searchable:8,clearable:9,renderer:65,disableHighlight:10,highlightFirstItem:66,selectOnTab:67,resetOnBlur:11,resetOnSelect:68,closeAfterSelect:69,dndzone:12,validatorAction:70,dropdownItem:13,controlItem:14,multiple:1,max:71,collapseSelection:15,alwaysCollapsed:16,creatable:17,creatablePrefix:72,allowEditing:73,keepCreated:74,delimiter:75,createFilter:56,createTransform:57,fetch:58,fetchMode:76,fetchCallback:77,fetchResetOnBlur:78,fetchDebounceTime:79,minQuery:80,lazyDropdown:18,virtualList:19,vlHeight:20,vlItemSize:21,searchField:81,sortField:82,disableSifter:83,class:22,style:23,i18n:84,readSelection:60,value:59,labelAsValue:24,valueAsObject:85,focus:86,getSelection:87,setSelection:88,clearByParent:89},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[86]}get getSelection(){return this.$$.ctx[87]}get setSelection(){return this.$$.ctx[88]}get clearByParent(){return this.$$.ctx[89]}}function ua(t){let e,n,l;function i(s){t[2](s)}let r={options:t[1],placeholder:"Sailnumber, name or type",virtualList:!0,renderer:fa};return t[0]!==void 0&&(r.value=t[0]),e=new oa({props:r}),Xe.push(()=>Kn(e,"value",i)),{c(){de(e.$$.fragment)},m(s,u){ae(e,s,u),l=!0},p(s,[u]){const o={};u&2&&(o.options=s[1]),!n&&u&1&&(n=!0,o.value=s[0],Un(()=>n=!1)),e.$set(o)},i(s){l||(O(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){ce(e,s)}}}function fa({sailnumber:t,name:e,type:n}){return`<span class="sailnumber">${t}</span> ${e} (${n})`}function aa(t,e,n){let l;Gt(t,bn,s=>n(1,l=s));let{sailnumber:i=void 0}=e;function r(s){i=s,n(0,i)}return t.$$set=s=>{"sailnumber"in s&&n(0,i=s.sailnumber)},[i,l,r]}class Cl extends je{constructor(e){super(),Ve(this,e,aa,ua,Pe,{sailnumber:0})}}function Sr(t,e,n){const l=t.slice();return l[2]=e[n],l[4]=n,l}function Ir(t){let e,n;return{c(){e=We("path"),b(e,"class",n="line tws-"+t[2]+" series-"+t[0]),b(e,"d","M"+t[4]*10+",20L"+(t[4]+4)*10+",0")},m(l,i){L(l,e,i)},p(l,i){i&1&&n!==(n="line tws-"+l[2]+" series-"+l[0])&&b(e,"class",n)},d(l){l&&R(e)}}}function ca(t){let e,n=ee(t[1]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ir(Sr(t,n,i));return{c(){e=We("svg");for(let i=0;i<l.length;i+=1)l[i].c();b(e,"width","130"),b(e,"height","20")},m(i,r){L(i,e,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(i,[r]){if(r&3){n=ee(i[1]);let s;for(s=0;s<n.length;s+=1){const u=Sr(i,n,s);l[s]?l[s].p(u,r):(l[s]=Ir(u),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},i:Y,o:Y,d(i){i&&R(e),Re(l,i)}}}function ha(t,e,n){let{series:l=0}=e;const i=[4,6,8,10,12,14,16,20,24];return t.$$set=r=>{"series"in r&&n(0,l=r.series)},[l,i]}class Mr extends je{constructor(e){super(),Ve(this,e,ha,ca,Pe,{series:0})}}function da(t){let e,n=Ar(t[0])+"",l;return{c(){e=w("span"),l=Z(n),b(e,"class","sailnumber")},m(i,r){L(i,e,r),m(e,l)},p(i,[r]){r&1&&n!==(n=Ar(i[0])+"")&&se(l,n)},i:Y,o:Y,d(i){i&&R(e)}}}function Ar(t){if(t)return t.substr(0,3)==t.substr(4,3)?t.substr(4):t}function ma(t,e,n){let{number:l}=e;return t.$$set=i=>{"number"in i&&n(0,l=i.number)},[l]}class sl extends je{constructor(e){super(),Ve(this,e,ma,da,Pe,{number:0})}}function Cr(t,e,n){const l=t.slice();return l[11]=e[n],l}function Er(t){let e,n,l,i;return n=new sl({props:{number:t[0]}}),{c(){e=w("a"),de(n.$$.fragment),b(e,"href",l="#"+t[0])},m(r,s){L(r,e,s),ae(n,e,null),i=!0},p(r,s){const u={};s&1&&(u.number=r[0]),n.$set(u),(!i||s&1&&l!==(l="#"+r[0]))&&b(e,"href",l)},i(r){i||(O(n.$$.fragment,r),i=!0)},o(r){N(n.$$.fragment,r),i=!1},d(r){r&&R(e),ce(n)}}}function Or(t){let e,n,l,i;return n=new sl({props:{number:t[1]}}),{c(){e=w("a"),de(n.$$.fragment),b(e,"href",l="#"+t[1])},m(r,s){L(r,e,s),ae(n,e,null),i=!0},p(r,s){const u={};s&2&&(u.number=r[1]),n.$set(u),(!i||s&2&&l!==(l="#"+r[1]))&&b(e,"href",l)},i(r){i||(O(n.$$.fragment,r),i=!0)},o(r){N(n.$$.fragment,r),i=!1},d(r){r&&R(e),ce(n)}}}function ga(t){let e,n,l=t[11].label+"",i,r=Dr(t[11],[t[2],t[3]])+"";return{c(){e=w("tr"),n=w("td"),i=new nl(!1),i.a=null},m(s,u){L(s,e,u),m(e,n),n.innerHTML=l,i.m(r,e)},p(s,u){u&12&&r!==(r=Dr(s[11],[s[2],s[3]])+"")&&i.p(r)},d(s){s&&R(e)}}}function _a(t){let e;return{c(){e=w("tr"),e.innerHTML='<td colspan="3" class="separator svelte-co8xs8"></td>'},m(n,l){L(n,e,l)},p:Y,d(n){n&&R(e)}}}function zr(t){let e;function n(r,s){return r[11].separator?_a:ga}let i=n(t)(t);return{c(){i.c(),e=Be()},m(r,s){i.m(r,s),L(r,e,s)},p(r,s){i.p(r,s)},d(r){r&&R(e),i.d(r)}}}function ba(t){let e,n,l,i,r,s,u,o,f,a,c,h,d,g,p,k,M,v,P,S,I,G,D,B,V,E,A,J,K,le,Q,X,j,ne,$,z;function ue(U){t[5](U)}let y={};t[0]!==void 0&&(y.sailnumber=t[0]),i=new Cl({props:y}),Xe.push(()=>Kn(i,"sailnumber",ue));function fe(U){t[6](U)}let C={};t[1]!==void 0&&(C.sailnumber=t[1]),o=new Cl({props:C}),Xe.push(()=>Kn(o,"sailnumber",fe)),p=new rl({props:{boats:[t[2],t[3]]}}),B=new Mr({props:{series:0}}),A=new Mr({props:{series:1}});let q=t[0]&&Er(t),te=t[1]&&Or(t),ye=ee(t[4]),ie=[];for(let U=0;U<ye.length;U+=1)ie[U]=zr(Cr(t,ye,U));return{c(){e=w("div"),n=w("div"),l=w("div"),de(i.$$.fragment),s=H(),u=w("div"),de(o.$$.fragment),a=H(),c=w("div"),h=H(),d=w("div"),g=w("div"),de(p.$$.fragment),k=H(),M=w("div"),v=w("div"),P=w("table"),S=w("tr"),I=w("th"),G=H(),D=w("td"),de(B.$$.fragment),V=H(),E=w("td"),de(A.$$.fragment),J=H(),K=w("tr"),le=w("td"),le.textContent="Sailnumber",Q=H(),X=w("td"),q&&q.c(),j=H(),ne=w("td"),te&&te.c(),$=H();for(let U=0;U<ie.length;U+=1)ie[U].c();b(l,"class","col"),b(u,"class","col"),b(n,"class","row p-2 row-cols-2"),b(c,"class","row p-2 row-cols-2"),b(g,"class","col-sm-6"),b(v,"class","row"),b(M,"class","col-sm-4"),b(d,"class","row p-2"),b(e,"class","container-fluid")},m(U,he){L(U,e,he),m(e,n),m(n,l),ae(i,l,null),m(n,s),m(n,u),ae(o,u,null),m(e,a),m(e,c),m(e,h),m(e,d),m(d,g),ae(p,g,null),m(d,k),m(d,M),m(M,v),m(v,P),m(P,S),m(S,I),m(S,G),m(S,D),ae(B,D,null),m(S,V),m(S,E),ae(A,E,null),m(P,J),m(P,K),m(K,le),m(K,Q),m(K,X),q&&q.m(X,null),m(K,j),m(K,ne),te&&te.m(ne,null),m(P,$);for(let De=0;De<ie.length;De+=1)ie[De]&&ie[De].m(P,null);z=!0},p(U,[he]){const De={};!r&&he&1&&(r=!0,De.sailnumber=U[0],Un(()=>r=!1)),i.$set(De);const tt={};!f&&he&2&&(f=!0,tt.sailnumber=U[1],Un(()=>f=!1)),o.$set(tt);const Ke={};if(he&12&&(Ke.boats=[U[2],U[3]]),p.$set(Ke),U[0]?q?(q.p(U,he),he&1&&O(q,1)):(q=Er(U),q.c(),O(q,1),q.m(X,null)):q&&(ke(),N(q,1,1,()=>{q=null}),Se()),U[1]?te?(te.p(U,he),he&2&&O(te,1)):(te=Or(U),te.c(),O(te,1),te.m(ne,null)):te&&(ke(),N(te,1,1,()=>{te=null}),Se()),he&28){ye=ee(U[4]);let T;for(T=0;T<ye.length;T+=1){const Ye=Cr(U,ye,T);ie[T]?ie[T].p(Ye,he):(ie[T]=zr(Ye),ie[T].c(),ie[T].m(P,null))}for(;T<ie.length;T+=1)ie[T].d(1);ie.length=ye.length}},i(U){z||(O(i.$$.fragment,U),O(o.$$.fragment,U),O(p.$$.fragment,U),O(B.$$.fragment,U),O(A.$$.fragment,U),O(q),O(te),z=!0)},o(U){N(i.$$.fragment,U),N(o.$$.fragment,U),N(p.$$.fragment,U),N(B.$$.fragment,U),N(A.$$.fragment,U),N(q),N(te),z=!1},d(U){U&&R(e),ce(i),ce(o),ce(p),ce(B),ce(A),q&&q.d(),te&&te.d(),Re(ie,U)}}}const dl="compare-",Tr="|";function pa(t){if(!t)return;const e=t.vpp;return Math.max(...e.angles.map(n=>Math.max(...e[n])))}function wa(t,e){return t?`<td class=${typeof t=="number"?"text-end":""}>${t}${e}</td>`:"<td></td>"}function Dr(t,e){const n=e.map(t.value),l=t.suffix||"";return n.map(i=>wa(i,l)).join("")}function va(t,e,n){let l,i,r,s;zn(()=>{const d=window.location.hash.substring(1);d.startsWith(dl)&&n(0,[l,i]=d.substring(dl.length).split(Tr),l,n(1,i))});function u(d){return d.some(g=>g)&&(window.location.hash=`${dl}${d.join(Tr)}`),d}async function o(d){if(d===void 0){target=void 0;return}n(2,r=await Qn(d))}async function f(d){if(d===void 0){target=void 0;return}n(3,s=await Qn(d))}const a=[{label:"Name",value:d=>d==null?void 0:d.name},{label:"Type",value:d=>d==null?void 0:d.boat.type},{label:"Year",value:d=>d==null?void 0:d.boat.year},{label:"Designer",value:d=>d==null?void 0:d.boat.designer},{label:"Builder",value:d=>d==null?void 0:d.boat.builder},{separator:!0},{label:"LOA",value:d=>d==null?void 0:d.boat.sizes.loa,suffix:"m"},{label:"Beam",value:d=>d==null?void 0:d.boat.sizes.beam,suffix:"m"},{label:"Draft",value:d=>d==null?void 0:d.boat.sizes.draft,suffix:"m"},{label:"Displacement",value:d=>d==null?void 0:d.boat.sizes.displacement,suffix:"kg"},{label:"Wetted surface",value:d=>d==null?void 0:d.boat.sizes.wetted_surface,suffix:"m<sup>2</sup>"},{separator:!0},{label:"Main",value:d=>d==null?void 0:d.boat.sizes.main,suffix:"m<sup>2</sup>"},{label:"Genoa",value:d=>d==null?void 0:d.boat.sizes.genoa,suffix:"m<sup>2</sup>"},{label:"Spinnaker",value:d=>d==null?void 0:d.boat.sizes.spinnaker,suffix:"m<sup>2</sup>"},{label:"Spinnaker&nbsp;asym",value:d=>d==null?void 0:d.boat.sizes.spinnaker_asym,suffix:"m<sup>2</sup>"},{separator:!0},{label:"Top speed",value:pa,suffix:"kts"},{label:"GPH",value:d=>d==null?void 0:d.rating.gph},{label:"OSN",value:d=>d==null?void 0:d.rating.osn}];function c(d){l=d,n(0,l)}function h(d){i=d,n(1,i)}return t.$$.update=()=>{t.$$.dirty&3&&u([l,i]),t.$$.dirty&1&&l&&o(l),t.$$.dirty&2&&i&&f(i)},[l,i,r,s,a,c,h]}class ya extends je{constructor(e){super(),Ve(this,e,va,ba,Pe,{})}}function Nr(t){let e,n;return{c(){e=w("div"),n=Z(t[2]),b(e,"class","alert alert-warning"),b(e,"role","alert")},m(l,i){L(l,e,i),m(e,n)},p(l,i){i&4&&se(n,l[2])},d(l){l&&R(e)}}}function ka(t){let e,n,l,i,r,s,u,o,f,a,c=t[2]&&Nr(t);return i=new rl({props:{boats:[t[1]]}}),{c(){e=w("div"),n=w("div"),c&&c.c(),l=H(),de(i.$$.fragment),r=H(),s=w("div"),u=w("textarea"),b(n,"class","col-sm"),b(u,"class","plot-only"),b(s,"class","col-sm"),b(e,"class","row")},m(h,d){L(h,e,d),m(e,n),c&&c.m(n,null),m(n,l),ae(i,n,null),m(e,r),m(e,s),m(s,u),qt(u,t[0]),o=!0,f||(a=ve(u,"input",t[3]),f=!0)},p(h,[d]){h[2]?c?c.p(h,d):(c=Nr(h),c.c(),c.m(n,l)):c&&(c.d(1),c=null);const g={};d&2&&(g.boats=[h[1]]),i.$set(g),d&1&&qt(u,h[0])},i(h){o||(O(i.$$.fragment,h),o=!0)},o(h){N(i.$$.fragment,h),o=!1},d(h){h&&R(e),c&&c.d(),ce(i),f=!1,a()}}}function Sa(t,e,n){let l=`twa/tws;6;8;10;12;14;16;20
0;0;0;0;0;0;0;0

# This is the polar of ITA14800, which is not in the database anymore

# Zeros are not plotted, you can use this to add optimal beat/run angles for a
# specific wind speed. In this case, VMG must be converted to SOG:
#   SOG = VMG / cos(beat_angle)

# Beat angles
44.2;5.02;0;0;0;0;0;0
42.9;0;5.99;0;0;0;0;0
42.5;0;0;6.81;0;0;0;0
40.8;0;0;0;7.17;0;0;0
39.3;0;0;0;0;7.31;0;0
38.3;0;0;0;0;0;7.39;0
38.4;0;0;0;0;0;0;7.53

52;5.58;6.71;7.54;7.9;8.06;8.15;8.25
60;5.97;7.13;7.82;8.14;8.3;8.4;8.49
75;6.33;7.46;8.03;8.36;8.62;8.83;9.02
90;6.41;7.69;8.09;8.36;8.66;8.98;9.54
110;6.35;7.63;8.31;8.79;9.07;9.27;9.68
120;6.15;7.54;8.22;8.65;9.15;9.52;10.07
135;5.48;6.78;7.75;8.26;8.69;9.2;10.45
150;4.54;5.7;6.76;7.58;8.12;8.52;9.46

# Run angles
142.1;4.98;0;0;0;0;0;0
144.7;0;6.04;0;0;0;0;0
144.9;0;0;7.15;0;0;0;0
153.4;0;0;0;7.38;0;0;0
159.4;0;0;0;0;7.71;0;0
166.9;0;0;0;0;0;7.92;0
173.1;0;0;0;0;0;0;8.54`;const i={speeds:[],angles:[]};let r=i,s;function u(){l=this.value,n(0,l)}return t.$$.update=()=>{if(t.$$.dirty&1)try{n(1,r={vpp:Vu(l)}),n(2,s=void 0)}catch(o){n(1,r=i),n(2,s=o)}},[l,r,s,u]}class Ia extends je{constructor(e){super(),Ve(this,e,Sa,ka,Pe,{})}}function Fr(t,e,n){const l=t.slice();return l[8]=e[n][0],l[9]=e[n][1],l}function Rr(t,e,n){const l=t.slice();return l[12]=e[n][0],l[13]=e[n][1],l[14]=e[n][2],l[15]=e[n][3],l}function Ma(t){return{c:Y,m:Y,p:Y,i:Y,o:Y,d:Y}}function Aa(t){let e,n,l=ee(Object.entries(t[7])),i=[];for(let s=0;s<l.length;s+=1)i[s]=Lr(Fr(t,l,s));const r=s=>N(i[s],1,1,()=>{i[s]=null});return{c(){e=w("div");for(let s=0;s<i.length;s+=1)i[s].c();b(e,"class","row")},m(s,u){L(s,e,u);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);n=!0},p(s,u){if(u&12){l=ee(Object.entries(s[7]));let o;for(o=0;o<l.length;o+=1){const f=Fr(s,l,o);i[o]?(i[o].p(f,u),O(i[o],1)):(i[o]=Lr(f),i[o].c(),O(i[o],1),i[o].m(e,null))}for(ke(),o=l.length;o<i.length;o+=1)r(o);Se()}},i(s){if(!n){for(let u=0;u<l.length;u+=1)O(i[u]);n=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)N(i[u]);n=!1},d(s){s&&R(e),Re(i,s)}}}function Pr(t){let e,n,l,i,r=(t[13]||"?")+"",s,u,o,f,a,c,h;l=new sl({props:{number:t[12]}});function d(){return t[5](t[12])}return{c(){e=w("li"),n=w("a"),de(l.$$.fragment),i=H(),s=Z(r),u=H(),o=w("span"),o.textContent=`${t[15]<100?t[15].toFixed(2):t[15]}`,f=H(),b(o,"class","float-end"),b(n,"href","#"+t[12]),b(n,"class","link svelte-lqrmok"),b(e,"class","boat svelte-lqrmok")},m(g,p){L(g,e,p),m(e,n),ae(l,n,null),m(n,i),m(n,s),m(n,u),m(n,o),m(e,f),a=!0,c||(h=ve(e,"mouseenter",d),c=!0)},p(g,p){t=g},i(g){a||(O(l.$$.fragment,g),a=!0)},o(g){N(l.$$.fragment,g),a=!1},d(g){g&&R(e),ce(l),c=!1,h()}}}function Lr(t){let e,n,l,i,r,s,u=ee(t[9]),o=[];for(let a=0;a<u.length;a+=1)o[a]=Pr(Rr(t,u,a));const f=a=>N(o[a],1,1,()=>{o[a]=null});return{c(){e=w("div"),n=w("h5"),n.textContent=`${t[3][t[8]]}`,l=H(),i=w("ul");for(let a=0;a<o.length;a+=1)o[a].c();r=H(),b(i,"class","list-unstyled"),b(e,"class","col-md-6")},m(a,c){L(a,e,c),m(e,n),m(e,l),m(e,i);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(i,null);m(e,r),s=!0},p(a,c){if(c&4){u=ee(a[9]);let h;for(h=0;h<u.length;h+=1){const d=Rr(a,u,h);o[h]?(o[h].p(d,c),O(o[h],1)):(o[h]=Pr(d),o[h].c(),O(o[h],1),o[h].m(i,null))}for(ke(),h=u.length;h<o.length;h+=1)f(h);Se()}},i(a){if(!s){for(let c=0;c<u.length;c+=1)O(o[c]);s=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)N(o[c]);s=!1},d(a){a&&R(e),Re(o,a)}}}function Ca(t){return{c:Y,m:Y,p:Y,i:Y,o:Y,d:Y}}function Hr(t){let e,n,l,i,r,s=t[0].name+"",u,o,f=t[0].boat.type+"",a,c,h,d,g;return l=new sl({props:{number:t[0].sailnumber}}),d=new rl({props:{boats:[t[0]]}}),{c(){e=w("h6"),n=w("a"),de(l.$$.fragment),r=H(),u=Z(s),o=Z(" ("),a=Z(f),c=Z(")"),h=H(),de(d.$$.fragment),b(n,"href",i="#"+t[0].sailnumber),b(e,"class","svelte-lqrmok")},m(p,k){L(p,e,k),m(e,n),ae(l,n,null),m(e,r),m(e,u),m(e,o),m(e,a),m(e,c),L(p,h,k),ae(d,p,k),g=!0},p(p,k){const M={};k&1&&(M.number=p[0].sailnumber),l.$set(M),(!g||k&1&&i!==(i="#"+p[0].sailnumber))&&b(n,"href",i),(!g||k&1)&&s!==(s=p[0].name+"")&&se(u,s),(!g||k&1)&&f!==(f=p[0].boat.type+"")&&se(a,f);const v={};k&1&&(v.boats=[p[0]]),d.$set(v)},i(p){g||(O(l.$$.fragment,p),O(d.$$.fragment,p),g=!0)},o(p){N(l.$$.fragment,p),N(d.$$.fragment,p),g=!1},d(p){p&&(R(e),R(h)),ce(l),ce(d,p)}}}function Ea(t){let e,n,l,i,r,s=(t[1]||"lots of")+"",u,o,f,a,c,h,d,g,p,k,M,v,P,S,I={ctx:t,current:null,token:null,hasCatch:!1,pending:Ca,then:Aa,catch:Ma,value:7,blocks:[,,,]};eo(fo(),I);let G=t[0]&&Hr(t);return{c(){e=w("div"),n=w("div"),l=w("div"),i=w("p"),r=Z("Polar diagrams for "),u=Z(s),o=Z(` sailyachts with ORC certificates. Select one of the boats below,
                search by sailnumber, name or type or select a
                `),f=w("a"),f.textContent="random boat",a=Z("."),c=H(),h=w("p"),h.innerHTML=`Questions/suggestions? Contact me on
                <a href="https://github.com/jieter/orc-data">GitHub</a>. All data is fetched from
                <a href="https://orc.org/index.asp?id=44">ORC.org</a>.`,d=H(),g=w("div"),g.innerHTML='<a href="#random" class="btn btn-primary">Random boat</a>',p=H(),k=w("div"),M=w("div"),I.block.c(),v=H(),P=w("div"),G&&G.c(),b(f,"href","#random"),b(f,"class","link-primary svelte-lqrmok"),b(l,"class","col col-sm-8 p-4"),b(g,"class","col-sm-4 p-4"),b(n,"class","row gx-5"),b(M,"class","col col-sm-8 p-4"),b(P,"class","col-sm-4 p-4"),b(k,"class","row gx-5"),b(e,"class","container-fluid")},m(D,B){L(D,e,B),m(e,n),m(n,l),m(l,i),m(i,r),m(i,u),m(i,o),m(i,f),m(i,a),m(l,c),m(l,h),m(n,d),m(n,g),m(e,p),m(e,k),m(k,M),I.block.m(M,I.anchor=null),I.mount=()=>M,I.anchor=null,m(k,v),m(k,P),G&&G.m(P,null),S=!0},p(D,[B]){t=D,(!S||B&2)&&s!==(s=(t[1]||"lots of")+"")&&se(u,s),to(I,t,B),t[0]?G?(G.p(t,B),B&1&&O(G,1)):(G=Hr(t),G.c(),O(G,1),G.m(P,null)):G&&(ke(),N(G,1,1,()=>{G=null}),Se())},i(D){S||(O(I.block),O(G),S=!0)},o(D){for(let B=0;B<3;B+=1){const V=I.blocks[B];N(V)}N(G),S=!1},d(D){D&&R(e),I.block.d(),I.token=null,I=null,G&&G.d()}}}function Oa(t,e,n){let l,i;Gt(t,$r,a=>n(6,l=a)),Gt(t,uo,a=>n(1,i=a));let r,s;r=l;async function u(a){a&&n(0,s=await Qn(a))}const o={max_speed:"Greatest maximum speed (kts)",min_speed:"Smallest maximum speed (kts)",max_length:"Greatest length over all (m)",max_displacement:"Greatest displacement (kg)",max_draft:"Greatest draft (m)"},f=a=>u(a);return t.$$.update=()=>{t.$$.dirty&16&&u(r)},[s,i,u,o,r,f]}class za extends je{constructor(e){super(),Ve(this,e,Oa,Ea,Pe,{})}}function Br(t,e,n){const l=t.slice();return l[5]=e[n].sailnumber,l[6]=e[n].name,l[7]=e[n].type,l}function Vr(t){let e,n,l,i,r,s,u;return{c(){e=w("tr"),n=w("td"),l=Z("No boats found with type "),i=w("em"),r=Z(t[0]),s=Z(" in the current year"),u=H(),b(n,"colspan","3"),b(e,"class","table-warning")},m(o,f){L(o,e,f),m(e,n),m(n,l),m(n,i),m(i,r),m(n,s),m(e,u)},p(o,f){f&1&&se(r,o[0])},d(o){o&&R(e)}}}function jr(t){let e,n,l,i=t[5]+"",r,s,u,o,f=t[6]+"",a,c,h,d=t[7]+"",g,p;return{c(){e=w("tr"),n=w("td"),l=w("a"),r=Z(i),u=H(),o=w("td"),a=Z(f),c=H(),h=w("td"),g=Z(d),p=H(),b(l,"href",s="#"+t[5])},m(k,M){L(k,e,M),m(e,n),m(n,l),m(l,r),m(e,u),m(e,o),m(o,a),m(e,c),m(e,h),m(h,g),m(e,p)},p(k,M){M&2&&i!==(i=k[5]+"")&&se(r,i),M&2&&s!==(s="#"+k[5])&&b(l,"href",s),M&2&&f!==(f=k[6]+"")&&se(a,f),M&2&&d!==(d=k[7]+"")&&se(g,d)},d(k){k&&R(e)}}}function Ta(t){let e,n,l,i,r,s,u,o,f,a,c,h,d=ee(t[1]),g=[];for(let k=0;k<d.length;k+=1)g[k]=jr(Br(t,d,k));let p=null;return d.length||(p=Vr(t)),{c(){e=w("div"),n=Z("Boats with type containing: "),l=w("input"),i=H(),r=w("div"),s=w("div"),u=w("table"),o=w("tr"),o.innerHTML="<th>Sailnumber</th><th>Name</th><th>Type</th>",f=H(),a=w("tbody");for(let k=0;k<g.length;k+=1)g[k].c();p&&p.c(),b(l,"type","text"),b(l,"class","svelte-dl4ofs"),b(u,"class","table table-striped table-sm table-hover"),b(s,"class","col-sm-12 col-md-8"),b(r,"class","row"),b(e,"class","container")},m(k,M){L(k,e,M),m(e,n),m(e,l),qt(l,t[0]),m(e,i),m(e,r),m(r,s),m(s,u),m(u,o),m(u,f),m(u,a);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(a,null);p&&p.m(a,null),c||(h=ve(l,"input",t[3]),c=!0)},p(k,[M]){if(M&1&&l.value!==k[0]&&qt(l,k[0]),M&3){d=ee(k[1]);let v;for(v=0;v<d.length;v+=1){const P=Br(k,d,v);g[v]?g[v].p(P,M):(g[v]=jr(P),g[v].c(),g[v].m(a,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=d.length,!d.length&&p?p.p(k,M):d.length?p&&(p.d(1),p=null):(p=Vr(k),p.c(),p.m(a,null))}},i:Y,o:Y,d(k){k&&R(e),Re(g,k),p&&p.d(),c=!1,h()}}}function Da(t,e,n){let l,i;Gt(t,bn,o=>n(2,i=o));let{q:r}=e;function s(o,f){return o.filter(({type:a})=>a==null?void 0:a.toLowerCase().includes(f.toLowerCase()))}function u(){r=this.value,n(0,r)}return t.$$set=o=>{"q"in o&&n(0,r=o.q)},t.$$.update=()=>{t.$$.dirty&1&&(window.location.hash=`type-${encodeURIComponent(r)}`),t.$$.dirty&5&&n(1,l=s(i,r))},[r,l,i,u]}class Na extends je{constructor(e){super(),Ve(this,e,Da,Ta,Pe,{q:0})}}function Gr(t){let e,n,l,i;function r(u){t[3](u)}let s={};return t[1]!==void 0&&(s.sailnumber=t[1]),n=new Cl({props:s}),Xe.push(()=>Kn(n,"sailnumber",r)),{c(){e=w("li"),de(n.$$.fragment),b(e,"class","nav-item d-block-md")},m(u,o){L(u,e,o),ae(n,e,null),i=!0},p(u,o){const f={};!l&&o&2&&(l=!0,f.sailnumber=u[1],Un(()=>l=!1)),n.$set(f)},i(u){i||(O(n.$$.fragment,u),i=!0)},o(u){N(n.$$.fragment,u),i=!1},d(u){u&&R(e),ce(n)}}}function Fa(t){let e,n;return e=new Qu({props:{sailnumber:t[1]}}),{c(){de(e.$$.fragment)},m(l,i){ae(e,l,i),n=!0},p(l,i){const r={};i&2&&(r.sailnumber=l[1]),e.$set(r)},i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function Ra(t){let e,n;return e=new Na({props:{q:decodeURIComponent(t[0].substring(5))}}),{c(){de(e.$$.fragment)},m(l,i){ae(e,l,i),n=!0},p(l,i){const r={};i&1&&(r.q=decodeURIComponent(l[0].substring(5))),e.$set(r)},i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function Pa(t){let e,n;return e=new ya({}),{c(){de(e.$$.fragment)},m(l,i){ae(e,l,i),n=!0},p:Y,i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function La(t){let e,n;return e=new Ia({}),{c(){de(e.$$.fragment)},m(l,i){ae(e,l,i),n=!0},p:Y,i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function Ha(t){let e,n;return e=new za({}),{c(){de(e.$$.fragment)},m(l,i){ae(e,l,i),n=!0},p:Y,i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){ce(e,l)}}}function Ba(t){let e,n,l,i,r,s,u,o,f=!t[1]||t[1]&&!t[1].startsWith("compare"),a,c,h,d,g,p,k,M,v,P,S,I,G,D,B,V,E,A=f&&Gr(t);const J=[Ha,La,Pa,Ra,Fa],K=[];function le(Q,X){return X&1&&(I=null),X&1&&(G=null),Q[0]=="extremes"?0:Q[0]=="customplot"?1:(I==null&&(I=!!Q[0].startsWith("compare")),I?2:(G==null&&(G=!!Q[0].startsWith("type")),G?3:4))}return D=le(t,-1),B=K[D]=J[D](t),{c(){e=w("nav"),n=w("div"),l=w("a"),l.textContent="ORC sailboat data (2025)",i=H(),r=w("button"),r.innerHTML='<span class="navbar-toggler-icon"></span>',s=H(),u=w("div"),o=w("ul"),A&&A.c(),a=H(),c=w("li"),h=w("a"),d=Z("Compare boats"),p=H(),k=w("li"),k.innerHTML='<a href="#customplot" class="nav-link">Plot custom CSV</a>',M=H(),v=w("div"),v.innerHTML=`<a href="https://github.com/jieter/orc-data/">GitHub</a>,
                <a href="https://orc.org/index.asp?id=44">Data © ORC.org</a>`,P=Z(`
             `),S=H(),B.c(),V=Be(),b(l,"class","navbar-brand"),b(l,"href","#extremes"),b(r,"class","navbar-toggler"),b(r,"type","button"),b(r,"data-bs-toggle","collapse"),b(r,"data-bs-target","#navbarSupportedContent"),b(r,"aria-controls","navbarSupportedContent"),b(r,"aria-expanded","false"),b(r,"aria-label","Toggle navigation"),b(h,"href",g="#compare-"+(t[1]||"")),b(h,"class","nav-link"),b(c,"class","nav-item"),b(k,"class","nav-item"),b(o,"class","navbar-nav me-auto mb-2 mb-lg-0"),b(v,"class","d-flex navbar-text"),b(u,"class","collapse navbar-collapse"),b(u,"id","navbarSupportedContent"),b(n,"class","container-fluid"),b(e,"class","navbar navbar-expand-lg navbar-light bg-light")},m(Q,X){L(Q,e,X),m(e,n),m(n,l),m(n,i),m(n,r),m(n,s),m(n,u),m(u,o),A&&A.m(o,null),m(o,a),m(o,c),m(c,h),m(h,d),m(o,p),m(o,k),m(u,M),m(u,v),m(u,P),L(Q,S,X),K[D].m(Q,X),L(Q,V,X),E=!0},p(Q,[X]){X&2&&(f=!Q[1]||Q[1]&&!Q[1].startsWith("compare")),f?A?(A.p(Q,X),X&2&&O(A,1)):(A=Gr(Q),A.c(),O(A,1),A.m(o,a)):A&&(ke(),N(A,1,1,()=>{A=null}),Se()),(!E||X&2&&g!==(g="#compare-"+(Q[1]||"")))&&b(h,"href",g);let j=D;D=le(Q,X),D===j?K[D].p(Q,X):(ke(),N(K[j],1,1,()=>{K[j]=null}),Se(),B=K[D],B?B.p(Q,X):(B=K[D]=J[D](Q),B.c()),O(B,1),B.m(V.parentNode,V))},i(Q){E||(O(A),O(B),E=!0)},o(Q){N(A),N(B),E=!1},d(Q){Q&&(R(e),R(S),R(V)),A&&A.d(),K[D].d(Q)}}}function Va(t,e,n){let l;Gt(t,$r,a=>n(2,l=a));let{route:i="extremes"}=e,{sailnumber:r=null}=e;const s=["extremes","customplot","compare","type","random"],u=a=>s.some(c=>a.startsWith(c));function o(){const a=window.location.hash;n(0,i=a.length>1?a.substring(1):"extremes"),u(i)?n(1,r=null):(n(1,r=i),n(0,i="boat"))}zn(()=>(window.addEventListener("hashchange",o,!1),o(),()=>window.removeEventListener("hashchange",o,!1)));function f(a){r=a,n(1,r)}return t.$$set=a=>{"route"in a&&n(0,i=a.route),"sailnumber"in a&&n(1,r=a.sailnumber)},t.$$.update=()=>{t.$$.dirty&2&&r&&!u(r)&&(window.location.hash=r),t.$$.dirty&5&&i=="random"&&(window.location.hash=l)},[i,r,l,f]}class ja extends je{constructor(e){super(),Ve(this,e,Va,Ba,Pe,{route:0,sailnumber:1})}}const qr=window.location.hash;new ja({target:document.querySelector("#container"),props:{sailnumber:qr.length>1?qr.substring(1):void 0}});
//# sourceMappingURL=index.js.map
